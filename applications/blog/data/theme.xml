<?xml version="1.0" encoding="UTF-8"?>
<theme name="Default" author_name="Invision Power Services, Inc" author_url="http://invision-virus.com">
 <template template_group="browse" template_name="featuredEntries" template_data="$featured" template_location="front" template_app="blog"><![CDATA[
<div class='ipsBox ipsSpacer_bottom'>
	<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="featured_entries"}</h2>
	<div class='ipsClearfix'>
		<div class="cFeaturedTopics ipsCarousel ipsClearfix" data-ipsCarousel data-ipsCarousel-fullSizeItems data-ipsCarousel-shadows='false'>
			<ul class='cTopicCarousel ipsClearfix ipsList_reset' data-role='carouselItems'>
				{{foreach $featured as $entry}}
					<li class='ipsCarousel_item ipsAreaBackground_reset ipsClearfix'>
						<div class='ipsPad ipsPhotoPanel ipsPhotoPanel_small ipsClearfix'>
							{template="userPhoto" group="global" app="core" params="$entry->author(), 'small'"}
							<div>
								<h3 class='ipsType_sectionHead'>
									<a href='{$entry->url()}'>
										{{if $entry->unread()}}
											<span class='ipsItemStatus ' data-ipsTooltip title='{{if !$entry->unread()}}{lang="no_new_posts"}{{else}}{lang="new_posts"}{{endif}}'><i class="fa fa-circle"></i></span>
										{{endif}}
										{$entry->mapped('title')}
									</a>
								</h3>
								<p class='ipsType_reset ipsType_medium ipsType_light'>{lang="byline_nodate" htmlsprintf="$entry->author()->link()"} {datetime="$entry->mapped('date')"}</p>
								<div class='ipsType_medium ipsType_richText ipsSpacer_both' data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='2 lines'>
									{$entry->truncated( true )|raw}
								</div>
								<ul class='ipsList_inline ipsClearfix ipsType_light'>
									{{foreach $entry->stats(TRUE) as $k => $v}}
										<li {{if in_array( $k, $entry->hotStats )}}class="ipsDataItem_stats_hot" data-text='{lang="hot_item"}' data-ipsTooltip title='{lang="hot_item_desc"}'{{endif}}>
											<span class='ipsDataItem_stats_number'>{number="$v"}</span>
											<span class='ipsDataItem_stats_type'>{lang="blog_{$k}" pluralize="$v"}</span>
										</li>
									{{endforeach}}
								</ul>
							</div>
						</div>
					</li>
				{{endforeach}}
			</ul>
			<a href='#' class='ipsCarousel_nav ipsHide' data-action='prev'><i class='fa fa-chevron-left'></i></a>
			<a href='#' class='ipsCarousel_nav ipsHide' data-action='next'><i class='fa fa-chevron-right'></i></a>
		</div>
	</div>
</div>]]></template>
 <template template_group="browse" template_name="index" template_data="$table, $featured, $blogs=array()" template_location="front" template_app="blog"><![CDATA[<div class="ipsPageHeader ipsClearfix ipsSpacer_bottom">
	<h1 class="ipsType_pageTitle">{lang="blogs"}</h1>
</div>
{{if count( $featured )}}
	{template="featuredEntries" group="browse" params="$featured"}
{{endif}}

{{if count( $blogs ) || \IPS\blog\Blog::canCreate()}}
	<ul class="ipsToolList ipsToolList_horizontal ipsClearfix ipsSpacer_bottom">
		{{if count( $blogs )}}
			<li class='ipsToolList_primaryAction'>
				{{if count( $blogs ) > 1}}
					<a class="ipsButton ipsButton_medium ipsButton_important ipsButton_fullWidth" href="#elCreateEntry_menu" data-ipsMenu id='elCreateEntry'>
						{lang="add_entry"} &nbsp;<i class='fa fa-caret-down'></i>
					</a>
					<ul class='ipsMenu ipsMenu_normal ipsHide' id='elCreateEntry_menu'>
						<li class='ipsMenu_title'>{lang="add_entry_to"}</li>
						{{foreach $blogs as $blog}}
							{{if $blog->disabled != 1}}
								<li class='ipsMenu_item'>
									<a href='{url="app=blog&module=blogs&controller=submit&id={$blog->id}" seoTemplate="blog_submit"}' class='ipsTruncate ipsTruncate_line'>{$blog->_title}</a>
								</li>
							{{endif}}
						{{endforeach}}
					</ul>
				{{else}}
					{{foreach $blogs as $blog}}
						{{if $blog->disabled != 1}}
							<a class="ipsButton ipsButton_medium ipsButton_important ipsButton_fullWidth" href="{url="app=blog&module=blogs&controller=submit&id={$blog->id}" seoTemplate="blog_submit"}">
								{lang="add_entry"}
							</a>
						{{endif}}
					{{endforeach}}
				{{endif}}
			</li>
			{{if count( $blogs ) > 1}}
				<li class='ipsType_center'>
					<a href='{url="app=blog&module=blogs&controller=browse&page=1&filter=my_blogs&sortby=blog_last_edate" seoTemplate="blogs"}' data-ipsMenu id='elMyBlogs' class='ipsButton ipsButton_medium ipsButton_fullWidth ipsButton_link'>{lang="my_blogs"} <i class='fa fa-caret-down'></i></a>
					<ul class='ipsMenu ipsMenu_normal ipsHide' id='elMyBlogs_menu'>
						{{foreach $blogs as $blog}}
							<li class='ipsMenu_item'>
								<a href='{$blog->url()}' class='ipsTruncate ipsTruncate_line'>{$blog->_title}</a>
							</li>
						{{endforeach}}
					</ul>
				</li>
			{{endif}}
			{{if \IPS\blog\Blog::canCreate()}}
				<li class='ipsType_center'>
					<a href='{url="app=blog&module=blogs&controller=create" seoTemplate="blog_create"}' data-ipsDialog data-ipsDialog-title='{lang="create_blog"}' class='ipsButton ipsButton_medium ipsButton_fullWidth ipsButton_link'>{lang="create_new_blog"}</a>
				</li>
			{{endif}}
		{{elseif \IPS\blog\Blog::canCreate()}}
			<li class='ipsToolList_primaryAction'>
				<a class="ipsButton ipsButton_large ipsButton_important ipsButton_fullWidth" href="{url="app=blog&module=blogs&controller=create" seoTemplate="blog_create"}">{lang="create_blog"}</a>
			</li>
		{{endif}}
	</ul>
{{endif}}

<div class='ipsBox'>
	{$table|raw}
</div>]]></template>
 <template template_group="browse" template_name="rows" template_data="$table, $headers, $blogs" template_location="front" template_app="blog"><![CDATA[{{if count( $blogs )}}
	{{foreach $blogs as $blog}}
		<li class='ipsDataItem ipsAreaBackground_reset'>
			<div class='ipsColumns ipsColumns_collapsePhone'>
				<div class='ipsColumn ipsColumn_veryWide cBlogInfo ipsAreaBackground_light'>
					{$blog->coverPhoto()|raw}
					<div class='ipsPad'>
						<ul class='ipsGrid'>
							<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_items}</strong><br>{lang="blog_entries" pluralize="$blog->_items"}</li>
							<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_comments}</strong><br>{lang="blog_comments" pluralize="$blog->_comments"}</li>
							<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->num_views}</strong><br>{lang="blog_views" pluralize="$blog->num_views"}</li>
						</ul>
						{{if count( $blog->_recentEntries )}}
							<h4 class='ipsType_minorHeading'>{lang="recent_entries"}</h4>
							<ul class='ipsDataList ipsDataList_reducedSpacing ipsType_medium ipsList_reset ipsType_light'>
								{{foreach $blog->_recentEntries as $entry}}
									<li class='ipsDataItem'>
										<div class='ipsDataItem_main'>
											{{if $entry->unread()}}
												<a href='{$entry->url()}' title='{lang="view_this_entry" sprintf="$entry->name"}' class=''>
													<span class='ipsItemStatus ipsItemStatus_tiny'><i class='fa fa-circle'></i></span>
												</a>
											{{endif}}
											<a href='{$entry->url()}' title='{lang="view_this_entry" sprintf="$entry->name"}' class='ipsType_break'>
												{wordbreak="$entry->name"}
											</a>
										</div>
									</li>
								{{endforeach}}
							</ul>
						{{endif}}
					</div>
				</div>
				<div class='ipsColumn ipsColumn_fluid ipsPad'>
					{{if $table->canModerate()}}
						<div class="ipsPos_right">
							<input type='checkbox' data-role='moderation' name="moderate[{$blog->id}]" data-actions="{expression="implode( ' ', $table->multimodActions( $blog ) )"}" data-state=''>
						</div>
					{{endif}}
					{{if $blog->latestEntry()}}
						<div class='ipsPhotoPanel ipsPhotoPanel_mini'>
							{template="userPhoto" app="core" params="$blog->latestEntry()->author(), 'mini'" group="global"}
							<div>
								<strong class='ipsType_minorHeading'>{lang="latest_entry"}</strong><br>
								<h3 class='ipsType_reset ipsType_sectionHead ipsType_blendLinks'>
									{{if $blog->latestEntry()->locked()}}<i class='fa fa-lock'></i> {{endif}}{$blog->latestEntry()->caption}
										{{if $blog->latestEntry()->isFutureDate() || $blog->latestEntry()->mapped('pinned') || $blog->latestEntry()->mapped('featured') || $blog->latestEntry()->hidden() === -1 || $blog->latestEntry()->hidden() === 1 || $blog->latestEntry()->status === 'draft'}}
										{{if $blog->latestEntry()->isFutureDate()}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$blog->latestEntry()->futureDateBlurb()}'><i class='fa fa-clock-o'></i></span>
										{{elseif $blog->latestEntry()->hidden() === -1}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$blog->latestEntry()->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span>
										{{elseif $blog->latestEntry()->hidden() === 1}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
										{{endif}}
										{{if $blog->latestEntry()->status === 'draft'}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="unpublished"}'><i class='fa fa-pencil-square-o'></i></span>
										{{endif}}
										{{if $blog->latestEntry()->mapped('pinned')}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
										{{endif}}
										{{if $blog->latestEntry()->mapped('featured')}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
										{{endif}}
									{{endif}}
									
									<a href='{$blog->latestEntry()->url()}' title='{lang="view_this_entry" sprintf="$blog->latestEntry()->name"}'>
										{{if $blog->latestEntry()->unread()}}
											<span class='ipsItemStatus' data-ipsTooltip title="{lang="unread_blog"}"><i class="fa fa-circle"></i></span>
										{{endif}}
										{wordbreak="$blog->latestEntry()->name"}
									</a>
								</h3>
								{{if !( $blog->owner() instanceof \IPS\Member )}}
									<p class='ipsType_medium ipsType_reset ipsType_light'>{lang="byline" htmlsprintf="trim( $blog->latestEntry()->author()->link() )"} {datetime="$blog->latestEntry()->date"}</p>
								{{endif}}
							</div>
						</div>
						<div class='ipsType_medium ipsType_richText ipsSpacer_both cBlogInfo_content' data-controller="core.front.core.lightboxedImages">
							{$blog->latestEntry()->content()|raw}
						</div>
						<ul class='ipsList_inline'>
							<li>
								<strong><a href='{$blog->latestEntry()->url()}' title='{lang="read_more_entry"}'>{lang="read_more"}</a></strong>
							</li>
							{{if \IPS\Settings::i()->blog_enable_rating}}
								<li>{template="rating" app="core" params="'small', $blog->latestEntry()->averageRating()" group="global"}</li>
							{{endif}}
							{{if !$blog->latestEntry()->num_comments}}
								<li class='ipsType_light'>{lang="num_comments" pluralize="$blog->latestEntry()->num_comments"}</li>
							{{else}}
								<li><a href='{$blog->latestEntry()->url()}#comments' title='{lang="see_comments_on_entry"}'>{lang="num_comments" pluralize="$blog->latestEntry()->num_comments"}</a></li>
							{{endif}}
						</ul>
					{{else}}
						<p class='ipsEmpty ipsType_center'>{lang="no_entries_yet"}</p>
					{{endif}}
				</div>
				
			</div>
		</li>
	{{endforeach}}
{{else}}
	<li><p class="ipsPad">{lang="no_results"}</p></li>
{{endif}}]]></template>
 <template template_group="dashboard" template_name="overview" template_data="$data" template_location="admin" template_app="blog"><![CDATA[<ul class="ipsDataList">
	{{foreach $data as $k => $v}}
		<li class="ipsDataItem">
			<span class="ipsDataItem_generic ipsDataItem_size6">
				<strong>{lang="$k"}</strong>
			</span>
			<span class="ipsDataItem_generic">
				{$v}
			</span>
		</li>
	{{endforeach}}
</ul>]]></template>
 <template template_group="global" template_name="commentTableHeader" template_data="$comment, $entry" template_location="front" template_app="blog"><![CDATA[
<div class='ipsDataList ipsAreaBackground_light ipsClearfix'>
	<div class='ipsDataItem'>
		<div class='ipsDataItem_icon'>
			{template="userPhoto" group="global" app="core" params="$entry->author()"}
		</div>
		<div class='ipsDataItem_main'>
			<h3 class='ipsType_sectionHead'>
				<a href='{$entry->url()}' title='{lang="view_this_entry" sprintf="$entry->mapped('title')"}'>
					{$entry->mapped('title')}
				</a>
			</h3>
			<p class='ipsType_normal ipsType_blendLinks ipsType_reset'>{lang="in"} <a href='{$entry->container()->url()}'>{$entry->container()->_title}</a></p>
			<p class='ipsType_normal ipsType_light ipsType_blendLinks ipsType_reset'>
				{{if $entry->container()->owner() instanceof \IPS\Member}}
					{lang="blog_by" htmlsprintf="$entry->container()->owner()->link()"}
				{{else}}
					<i class='fa fa-users'></i> {lang="group_blog_by" sprintf="\IPS\Member::loggedIn()->language()->addToStack( 'blogs_groupblog_name_' . $entry->container()->id )"}
				{{endif}}
			</p>
		</div>
	</div>
</div>]]></template>
 <template template_group="global" template_name="embedBlogs" template_data="$blog, $url" template_location="front" template_app="blog"><![CDATA[<div class='ipsEmbedded'>
	<div class='ipsEmbedded_headerArea'>
		<h4 class='ipsType_reset ipsType_normal ipsTruncate ipsTruncate_line'><i class='fa fa-file' data-ipsTooltip title='{lang="embed_blog"}'></i> &nbsp;<a href='{$url}' title='{lang="view_this_blog"}' target='_top'>{$blog->_title}</a></h4>
	</div>

	<div class='ipsEmbedded_content'>
		<div class='ipsPhotoPanel ipsPhotoPanel_mini ipsClearfix ipsType_medium'>
			{{if $blog->owner() instanceof \IPS\Member}}
				{template="userPhoto" group="global" app="core" params="$blog->owner(), 'mini', NULL, '', FALSE"}
			{{endif}}
			<div>
				<strong>
					{{if $blog->owner() instanceof \IPS\Member}}
						{lang="blog_byline_nodate" htmlsprintf="$blog->owner()->link()"}
					{{else}}
						<i class='fa fa-users' data-ipsTooltip title='{lang="this_is_group"}'></i> {lang="blog_byline_nodate" sprintf="\IPS\Member::loggedIn()->language()->addToStack( 'blogs_groupblog_name_' . $blog->id )"}
					{{endif}}
				</strong>
				{{if $blog->latestEntry()}}
					<br>
					<span class='ipsType_light ipsType_small'>
						{lang="blog_last_entry_date" htmlsprintf="\IPS\DateTime::ts( $blog->latestEntry()->date )->html()"}
					</span>
				{{endif}}
				<ul class='ipsGrid cBlogEmbedded_stats'>
					<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_items}</strong><br>{lang="blog_entries" pluralize="$blog->_items"}</li>
					<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_comments}</strong><br>{lang="blog_comments" pluralize="$blog->_comments"}</li>
					<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->num_views}</strong><br>{lang="blog_views" pluralize="$blog->num_views"}</li>
				</ul>
			</div>
		</div>
	</div>
</div>]]></template>
 <template template_group="global" template_name="profileBlogRows" template_data="$table, $headers, $blogs, $showSmall" template_location="front" template_app="blog"><![CDATA[{{foreach $blogs AS $blog}}
	<li class='ipsAreaBackground_light ipsPad cProfileBlog'>
		<div class='ipsColumns ipsColumns_collapsePhone'>
			<div class='ipsColumn ipsColumn_fluid'>
				<h3 class='ipsType_sectionHead ipsType_break ipsTruncate ipsTruncate_line'>
					<a href='{$blog->url()}'>{{if $blog->member_id}}{wordbreak="$blog->_title"}{{else}}{lang="blogs_blog_{$blog->id}" wordbreak="true"}{{endif}}</a> {{if $showSmall && !($blog->owner() instanceof \IPS\Member)}}&nbsp;&nbsp;<span class='ipsType_light ipsType_medium' data-ipsTooltip title='{lang="this_is_group"}'><i class='fa fa-users'></i> {lang="byline_nodate" sprintf="\IPS\Member::loggedIn()->language()->addToStack( 'blogs_groupblog_name_' . $blog->id )"}</span>{{endif}}
				</h3>
				<ul class='ipsGrid cProfileBlog_stats'>
					<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_items}</strong><br>{lang="blog_entries" pluralize="$blog->_items"}</li>
					<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_comments}</strong><br>{lang="blog_comments" pluralize="$blog->_comments"}</li>
					<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->num_views}</strong><br>{lang="blog_views" pluralize="$blog->num_views"}</li>
				</ul>
			</div>
			<div class='ipsColumn ipsColumn_wide'>
				{{if $blog->latestEntry()}}
					<h4 class='ipsType_minorHeading'>{lang="most_recent_entry"}</h4>		
					<a href='{$blog->latestEntry()->url()}' title='{lang="view_this_entry" sprintf="$blog->latestEntry()->name"}' class='ipsType_large ipsTruncate ipsTruncate_line'>
						{{if $blog->latestEntry()->unread()}}
							<span class='ipsItemStatus' data-ipsTooltip title="{lang="unread_blog"}"><i class="fa fa-circle"></i></span>
						{{endif}}
						{wordbreak="$blog->latestEntry()->name"}
					</a>
					<ul class='ipsList_inline ipsType_medium ipsType_light'>
						<li>{datetime="$blog->latestEntry()->date"}</li>
						{{if \IPS\Settings::i()->blog_enable_rating}}
							<li>{template="rating" app="core" params="'small', $blog->latestEntry()->averageRating()" group="global"}</li>
						{{endif}}
						{{if !$blog->latestEntry()->num_comments}}
							<li class='ipsType_light'>{lang="num_comments" pluralize="$blog->latestEntry()->num_comments"}</li>
						{{else}}
							<li><a href='{$blog->latestEntry()->url()}#comments' title='{lang="see_comments_on_entry"}'>{lang="num_comments" pluralize="$blog->latestEntry()->num_comments"}</a></li>
						{{endif}}
					</ul>
				{{endif}}
			</div>
		</div>
	</li>
{{endforeach}}]]></template>
 <template template_group="global" template_name="profileBlogTable" template_data="$table, $headers, $rows, $quickSearch" template_location="front" template_app="blog"><![CDATA[{{if isset( $rows['owner'] ) AND count( $rows['owner'] )}}
	<h2 class='ipsType_pageTitle'>{lang="user_blogs"}</h2>
	<br>
	<ol class='ipsList_reset ipsClear ipsGrid ipsGrid_collapsePhone' id='elTable_{$table->uniqueId}_owner'>
		{template="$table->rowsTemplate[1]" params="$table, $headers, $rows['owner'], FALSE" object="$table->rowsTemplate[0]"}
	</ol>
{{endif}}
{{if isset( $rows['contributor'] ) AND count( $rows['contributor'] )}}
	{{if isset( $rows['owner'] ) AND count( $rows['owner'] )}}
		<h3 class='ipsType_sectionHead'>{lang="also_contributes"}</h3>
		<br><br>
	{{else}}
		<h2 class='ipsType_pageTitle'>{lang="contributes_to"}</h2>
	{{endif}}

	<ol class='ipsList_reset ipsClear ipsGrid ipsGrid_collapsePhone' id='elTable_{$table->uniqueId}_contributor'>
		{template="$table->rowsTemplate[1]" params="$table, $headers, $rows['contributor'], TRUE" object="$table->rowsTemplate[0]"}
	</ol>
	<br>
{{endif}}]]></template>
 <template template_group="global" template_name="rows" template_data="$table, $headers, $entries" template_location="front" template_app="blog"><![CDATA[
{{foreach $entries as $idx => $entry}}
	<li class='ipsPad ipsDataItem {{if $entry->hidden()}}ipsModerated{{endif}}'>
		{template="blogViewMedium" group="view" app="blog" params="$entry, $table, FALSE"}
	</li>
{{endforeach}}]]></template>
 <template template_group="livesearch" template_name="blog" template_data="$blog" template_location="admin" template_app="blog"><![CDATA[<li class='ipsPad_half ipsClearfix' data-role='result'>
	<a href='{url="app=blog&module=blogs&controller=blogs&do=form&id="}{$blog->id}' class='ipsPos_left'>{$blog->_title}</a>
</li>

]]></template>
 <template template_group="submit" template_name="blogSelector" template_data="$form" template_location="front" template_app="blog"><![CDATA[<div class='ipsPad'>
	{$form|raw}
</div>]]></template>
 <template template_group="submit" template_name="createBlog" template_data="$form" template_location="front" template_app="blog"><![CDATA[
{template="pageHeader" group="global" app="core" params="\IPS\Member::loggedIn()->language()->get('create_blog')"}
<div class='ipsBox ipsPad'>
	{$form|raw}
</div>]]></template>
 <template template_group="submit" template_name="submit" template_data="$form" template_location="front" template_app="blog"><![CDATA[
{template="pageHeader" if="!\IPS\Request::i()->isAjax()" group="global" app="core" params="\IPS\Member::loggedIn()->language()->addToStack( 'create_blog_entry' )"}
{$form|raw}
]]></template>
 <template template_group="submit" template_name="submitFormTemplate" template_data="$id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class=''" template_location="front" template_app="blog"><![CDATA[{{$modOptions=array('blog_entry_date');}}
<form accept-charset='utf-8' class="ipsForm {$class}" action="{$action}" method="post" {{if $uploadField}}enctype="multipart/form-data"{{endif}} data-ipsForm>
	<input type="hidden" name="{$id}_submitted" value="1">
	{{foreach $hiddenValues as $k => $v}}
		<input type="hidden" name="{$k}" value="{$v}">
	{{endforeach}}
	{{if $uploadField}}
		<input type="hidden" name="MAX_FILE_SIZE" value="{$uploadField}">
		<input type="hidden" name="plupload" value="{expression="md5( uniqid() )"}">
	{{endif}}
	{{if count( $elements ) > 1}}
		<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="entry_information"}</h2>
		<div class='ipsTabs ipsClearfix ipsJS_show' id='tabs_{$id}' data-ipsTabBar data-ipsTabBar-contentArea='#ipsTabs_content_{$id}'>
			<a href='#tabs_{$id}' data-action='expandTabs'><i class='fa fa-caret-down'></i></a>
			<ul role='tablist'>
				{{foreach $elements as $name => $content}}
					<li>
						<a href='#ipsTabs_tabs_{$id}_{$id}_tab_{$name}_panel' id='{$id}_tab_{$name}' class="ipsTabs_item" role="tab">
							{lang="$name"}
						</a>
					</li>
				{{endforeach}}
			</ul>
		</div>
		<div id='ipsTabs_content_{$id}' class='ipsTabs_panels'>
			{{foreach $elements as $name => $contents}}
				<div id='ipsTabs_tabs_{$id}_{$id}_tab_{$name}_panel' class="ipsTabs_panel ipsPad" aria-labelledby="{$id}_tab_{$name}" aria-hidden="false">
					<ul class='ipsForm ipsForm_vertical'>
						{{foreach $contents as $inputName => $input}}
								{$input|raw}
						{{endforeach}}
					</ul>
				</div>
			{{endforeach}}
		</div>		
	{{else}}
		<ul class='ipsForm ipsForm_vertical'>
			{{foreach $elements as $collection}}
				{{foreach $collection as $inputName => $input}}
					{{if !in_array( $inputName, $modOptions )}}
						{$input|raw}
					{{endif}}
				{{endforeach}}
			{{endforeach}}
		</ul>
	{{endif}}

	<div class='ipsAreaBackground ipsPad ipsType_center ipsSpacer_top'>
		<button type='submit' class='ipsButton ipsButton_large ipsButton_primary'>{lang="entry_submit"}</button>
	</div>
</form>]]></template>
 <template template_group="view" template_name="blogHeader" template_data="$blog" template_location="front" template_app="blog"><![CDATA[
<div id='elBlogHeader'>
	{$blog->coverPhoto()|raw}
</div>
<div id='elBlogHeaderStats' class='ipsPad'>
	<div>
		<div class='ipsPos_right ipsResponsive_noFloat ipsResponsive_hidePhone'>
		{template="follow" app="core" group="global" params="'blog', 'blog', $blog->_id, \IPS\blog\Entry::containerFollowerCount( $blog )"}
		</div>
		<ul class='ipsGrid cBlockView_stats'>
			<li class='ipsGrid_span4'>
				<strong class='ipsType_minorHeading'>{lang="blog_entries" pluralize="$blog->_items"}</strong><br>
				<strong class='ipsType_normal'>{number="$blog->_items"}</strong>
			</li>
			<li class='ipsGrid_span4'>
				<strong class='ipsType_minorHeading'>{lang="blog_comments" pluralize="$blog->_comments"}</strong><br>
				<strong class='ipsType_normal'>{number="$blog->_comments"}</strong>
			</li>
			<li class='ipsGrid_span4'>
				<strong class='ipsType_minorHeading'>{lang="blog_views" pluralize="$blog->num_views"}</strong><br>
				<strong class='ipsType_normal'>{number="$blog->num_views"}</strong>
			</li>
		</ul>
	</div>
	{{if !( $blog->owner() instanceof \IPS\Member )}}
		<div class='cBlogContributors ipsClearfix ipsResponsive_hidePhone'>
			<h2 class='ipsType_minorHeading'>{lang="contributors_to_this"}</h2>
			<ul class='cBlogView_contributors'>
				{{foreach  $blog->contributors() as $idx => $contributor}}
					<li class=''>
						<span data-ipsTooltip title='{$contributor['member']->name}'>
							{template="userPhoto" group="global" app="core" params="$contributor['member'], 'mini'"}<span class='ipsNotificationCount'>{$contributor['contributions']}</span>
						</span>
					</li>
				{{endforeach}}
			</ul>
		</div>
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="blogTable" template_data="$table, $headers, $rows, $quickSearch" template_location="front" template_app="blog"><![CDATA[<div class='ipsBox' data-baseurl='{$table->baseUrl}' data-resort='{$table->resortKey}' data-controller='core.global.core.table{{if $table->canModerate()}},core.front.core.moderation{{endif}}' id='elTable_{$table->uniqueId}'>
	{{if $table->title}}
		<h2 class='ipsType_sectionTitle ipsType_reset ipsClear'>{lang="$table->title"}</h2>
	{{endif}}

	{{if $table->canModerate() OR (isset( $table->sortOptions ) and !empty( $table->sortOptions )) OR !empty( $table->filters ) OR $table->pages > 1 OR $table->advancedSearch}}
	<div class="ipsButtonBar ipsPad_half ipsClearfix ipsClear">
		{{if $table->canModerate()}}
			<ul class="ipsButtonRow ipsPos_right ipsClearfix">
				<li>
					<a class="ipsJS_show" href="#elCheck_menu" id="elCheck_{$table->uniqueId}" title='{lang="{$table->langPrefix}select_rows_tooltip"}' data-ipsTooltip data-ipsAutoCheck data-ipsAutoCheck-context="#elTable_{$table->uniqueId}" data-ipsMenu data-ipsMenu-activeClass="ipsButtonRow_active">
						<span class="cAutoCheckIcon ipsType_medium"><i class="fa fa-square-o"></i></span> <i class="fa fa-caret-down"></i>
						<span class='ipsNotificationCount' data-role='autoCheckCount'>0</span>
					</a>
					<ul class="ipsMenu ipsMenu_auto ipsMenu_withStem ipsHide" id="elCheck_{$table->uniqueId}_menu">
						<li class="ipsMenu_title">{lang="{$table->langPrefix}select_rows"}</li>
						<li class="ipsMenu_item" data-ipsMenuValue="all"><a href="#">{lang="all"}</a></li>
						<li class="ipsMenu_item" data-ipsMenuValue="none"><a href="#">{lang="none"}</a></li>
						{{if count($table->getFilters())}}
							<li class="ipsMenu_sep"><hr></li>
							{{foreach $table->getFilters() as $filter}}
								<li class="ipsMenu_item" data-ipsMenuValue="{$filter}"><a href="#">{lang="$filter"}</a></li>
							{{endforeach}}
						{{endif}}
					</ul>
				</li>
			</ul>
		{{endif}}
		
		<ul class="ipsButtonRow ipsPos_right ipsClearfix">
			{{if ( isset( $table->sortOptions ) and !empty( $table->sortOptions ) ) OR $table->advancedSearch}}
				<li>
					{{if isset($table->sortOptions) }}
					<a href="#elSortByMenu_menu" id="elSortByMenu_{$table->uniqueId}" data-role="sortButton" data-ipsMenu data-ipsMenu-activeClass="ipsButtonRow_active" data-ipsMenu-selectable="radio">{lang="sort_by"} <i class="fa fa-caret-down"></i></a>
					<ul class="ipsMenu ipsMenu_auto ipsMenu_withStem ipsMenu_selectable ipsHide" id="elSortByMenu_{$table->uniqueId}_menu">
						{{$custom = TRUE;}}
						{{foreach $table->sortOptions as $k => $col}}
							<li class="ipsMenu_item {{if $col === $table->sortBy}}{{$custom = FALSE;}}ipsMenu_itemChecked{{endif}}" data-ipsMenuValue="{$col}" data-sortDirection='{{if $col == 'title'}}asc{{else}}desc{{endif}}'><a href="{$table->baseUrl->setQueryString( array( 'filter' => $table->filter, 'sortby' => $col, 'sortdirection' => ( $col == 'title' ) ? 'asc' : 'desc', 'page' => '1' ) )}">{lang="{$table->langPrefix}sort_{$k}"}</a></li>
						{{endforeach}}
						{{if $table->advancedSearch}}
							<li class="ipsMenu_item {{if $custom}}ipsMenu_itemChecked{{endif}}" data-noSelect="true">
								<a href='{$table->baseUrl->setQueryString( array( 'advancedSearchForm' => '1', 'filter' => $table->filter, 'sortby' => $table->sortBy, 'sortdirection' => $table->sortDirection ) )}' data-ipsDialog data-ipsDialog-title='{lang="custom_sort"}'>{lang="custom"}</a>
							</li>
						{{endif}}
					</ul>
					{{elseif $table->advancedSearch}}
						<a href='{$table->baseUrl->setQueryString( array( 'advancedSearchForm' => '1', 'filter' => $table->filter, 'sortby' => $table->sortBy, 'sortdirection' => $table->sortDirection ) )}' data-ipsDialog data-ipsDialog-title='{lang="custom_sort"}'>{lang="custom"}</a>
					{{endif}}
				</li>
			{{endif}}
			{{if !empty( $table->filters )}}
				<li>
					<a href="#elFilterByMenu_menu" data-role="tableFilterMenu" id="elFilterByMenu_{$table->uniqueId}" data-ipsMenu data-ipsMenu-activeClass="ipsButtonRow_active" data-ipsMenu-selectable="radio">{lang="filter_by"} <i class="fa fa-caret-down"></i></a>
					<ul class='ipsMenu ipsMenu_auto ipsMenu_withStem ipsMenu_selectable ipsHide' id='elFilterByMenu_{$table->uniqueId}_menu'>
						<li data-action="tableFilter" data-ipsMenuValue='{$k}' class='ipsMenu_item {{if !$table->filter}}ipsMenu_itemChecked{{endif}}'>
							<a href='{$table->baseUrl->setQueryString( array( 'filter' => '', 'sortby' => $table->sortBy, 'sortdirection' => $table->sortDirection, 'page' => '1' ) )}'>{lang="{$table->langPrefix}all"}</a>
						</li>
						{{foreach $table->filters as $k => $q}}
							<li data-action="tableFilter" data-ipsMenuValue='{$k}' class='ipsMenu_item {{if $k === $table->filter}}ipsMenu_itemChecked{{endif}}'>
								<a href='{$table->baseUrl->setQueryString( array( 'filter' => $k, 'sortby' => $table->sortBy, 'sortdirection' => $table->sortDirection, 'page' => '1' ) )}'>{lang="{$table->langPrefix}{$k}"}</a>
							</li>
						{{endforeach}}
					</ul>
				</li>
			{{endif}}
		</ul>

		{{if $table->pages > 1}}
			<div data-role="tablePagination">
				{template="pagination" group="global" app="core" location="global" params="$table->baseUrl, $table->pages, $table->page, $table->limit, TRUE, $table->getPaginationKey()"}
			</div>
		{{endif}}
	</div>
	{{endif}}

	{{if $table->canModerate()}}
		<form action="{$table->baseUrl}" method="post" data-role='moderationTools' data-ipsPageAction>
			<div class='ipsClear ipsPad {{foreach $table->classes as $class}}{$class} {{endforeach}}' id='elTable_{$table->uniqueId}' data-role="tableRows" data-controller='blog.front.browse.list'>
				{template="$table->rowsTemplate[1]" params="$table, $headers, $rows" object="$table->rowsTemplate[0]"}
			</div>
			<div class="ipsAreaBackground ipsPad ipsClearfix" data-role="pageActionOptions">
				<div class="ipsPos_right">
					<select name="modaction" data-role="moderationAction">
						{{if $table->canModerate('unhide')}}
							<option value='approve' data-icon='check-circle'>{lang="approve"}</option>
						{{endif}}
						{{if $table->canModerate('feature') or $table->canModerate('unfeature')}}
							<optgroup label="{lang="feature"}" data-icon='star' data-action='feature'>
								{{if $table->canModerate('feature')}}
									<option value='feature'>{lang="feature"}</option>
								{{endif}}
								{{if $table->canModerate('unhide')}}
									<option value='unfeature'>{lang="unfeature"}</option>
								{{endif}}
							</optgroup>
						{{endif}}
						{{if $table->canModerate('pin') or $table->canModerate('unpin')}}
							<optgroup label="{lang="pin"}" data-icon='thumb-tack' data-action='pin'>
								{{if $table->canModerate('pin')}}
									<option value='pin'>{lang="pin"}</option>
								{{endif}}
								{{if $table->canModerate('unpin')}}
									<option value='unpin'>{lang="unpin"}</option>
								{{endif}}
							</optgroup>
						{{endif}}
						{{if $table->canModerate('hide') or $table->canModerate('unhide')}}
							<optgroup label="{lang="hide"}" data-icon='eye' data-action='hide'>
								{{if $table->canModerate('hide')}}
									<option value='hide'>{lang="hide"}</option>
								{{endif}}
								{{if $table->canModerate('unhide')}}
									<option value='unhide'>{lang="unhide"}</option>
								{{endif}}
							</optgroup>
						{{endif}}
						{{if $table->canModerate('lock') or $table->canModerate('unlock')}}
							<optgroup label="{lang="lock"}" data-icon='lock' data-action='lock'>
								{{if $table->canModerate('lock')}}
									<option value='lock'>{lang="lock"}</option>
								{{endif}}
								{{if $table->canModerate('unlock')}}
									<option value='unlock'>{lang="unlock"}</option>
								{{endif}}
							</optgroup>
						{{endif}}
						{{if $table->canModerate('move')}}
							<option value='move' data-icon='arrow-right'>{lang="move"}</option>
						{{endif}}
						{{if $table->canModerate('split_merge')}}
							<option value='merge' data-icon='level-up'>{lang="merge"}</option>
						{{endif}}
						{{if $table->canModerate('delete')}}
							<option value='delete' data-icon='trash'>{lang="delete"}</option>
						{{endif}}
						{{if $table->canModerate('future_publish')}}
							<option data-icon="arrow-circle-o-up" value='publish'>{lang="publish"}</option>
						{{endif}}
						{{if $table->savedActions}}
							<optgroup label="{lang="saved_actions"}" data-icon='tasks' data-action='saved_actions'>
								{{foreach $table->savedActions as $k => $v}}
									<option value='savedAction-{$k}'>{$v}</option>
								{{endforeach}}
							</optgroup>
						{{endif}}
					</select>
					<button type="submit" class="ipsButton ipsButton_alternate ipsButton_verySmall">{lang="submit"}</button>
				</div>
			</div>
		</form>
	{{else}}
		<div class='ipsClear ipsPad {{foreach $table->classes as $class}}{$class} {{endforeach}}' id='elTable_{$table->uniqueId}' data-role="tableRows" data-controller='blog.front.browse.list'>
			{template="$table->rowsTemplate[1]" params="$table, $headers, $rows" object="$table->rowsTemplate[0]"}
		</div>
	{{endif}}
	{{if $table->pages > 1}}
		<div class="ipsButtonBar ipsPad_half ipsClearfix ipsClear">
			<div data-role="tablePagination">
				{template="pagination" group="global" app="core" location="global" params="$table->baseUrl, $table->pages, $table->page, $table->limit, TRUE, $table->getPaginationKey()"}
			</div>
		</div>
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="blogViewLarge" template_data="$entry, $table, $first = FALSE" template_location="front" template_app="blog"><![CDATA[
<article class='cBlogView_entry ipsContained {{if $entry->hidden()}}ipsModerated{{endif}}' data-controller="core.front.core.lightboxedImages">
	<header class='ipsPhotoPanel ipsPhotoPanel_notPhone ipsPhotoPanel_small ipsSpacer_bottom'>
		{template="userPhoto" app="core" params="$entry->author()" group="global"}
		<div>
			<h2 class='ipsType_pageTitle'>
				{{if $entry->locked()}}<i class='fa fa-lock'></i> {{endif}}{$entry->caption}
				{{if $entry->isFutureDate() || $entry->mapped('pinned') || $entry->mapped('featured') || $entry->hidden() === -1 || $entry->hidden() === 1 || $entry->status === 'draft'}}
					{{if $entry->isFutureDate() and $entry->status !== 'draft'}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$entry->futureDateBlurb()}'><i class='fa fa-clock-o'></i></span>
					{{elseif $entry->hidden() === -1}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$entry->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span>
					{{elseif $entry->hidden() === 1}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
					{{endif}}
					{{if $entry->status === 'draft'}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="unpublished"}'><i class='fa fa-pencil-square-o'></i></span>
					{{endif}}
					{{if $entry->mapped('pinned')}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
					{{endif}}
					{{if $entry->mapped('featured')}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
					{{endif}}
				{{endif}}
				
				{{if $entry->prefix()}}
					{template="prefix" group="global" app="core" params="$entry->prefix( TRUE ), $entry->prefix()"}
				{{endif}}
				<a href="{$entry->url()}" class='ipsType_blendLinks' title="{lang="read_more_about" sprintf="$entry->name"}" {{if $entry->canEdit()}}data-role="editableTitle"{{endif}}>
					{{if $entry->unread()}}
						<span class='ipsItemStatus' data-ipsTooltip title="{lang="unread_blog"}"><i class="fa fa-circle"></i></span>
					{{endif}}
					{{if $entry->canEdit()}}<span data-role="editableTitle">{wordbreak="$entry->name"}</span>{{else}}{wordbreak="$entry->name"}{{endif}}
				</a>
			</h2>
			<p class='ipsType_light ipsType_reset ipsType_blendLinks'>
				{lang="byline" htmlsprintf="$entry->author()->link()"}{datetime="$entry->date"}
			</p>
		</div>
	</header>

	<section class='ipsType_normal ipsType_richText ipsType_break ipsSpacer_both' data-ipsTruncate {{if $first}}data-ipsTruncate-size='20 lines'{{else}}data-ipsTruncate-size='7 lines'{{endif}}>
		{$entry->content|raw}
	</section>
	{{if count( $entry->tags() )}}
		<div class='ipsSpacer_top'>		
			{template="tags" group="global" app="core" params="$entry->tags()"}
		</div>
	{{endif}}

	<ul class='ipsList_inline ipsSpacer_top'>
		{{if $table->canModerate()}}
			<li class='ipsPos_left'>
				{{$idField = $entry::$databaseColumnId;}}
				<input type='checkbox' data-role='moderation' name="moderate[{$entry->$idField}]" data-actions="{expression="implode( ' ', $table->multimodActions( $entry ) )"}" data-state='{{if $entry->tableStates()}}{$entry->tableStates()}{{endif}}'>
			</li>
		{{endif}}
		<li><strong><a href='{$entry->url()}' title="{lang="read_more_about" sprintf="$entry->name"}">{lang="read_more"}</a></strong></li>
		{{if \IPS\Settings::i()->blog_enable_rating}}
			<li>{template="rating" app="core" params="'small', $entry->averageRating()" group="global"}</li>
		{{endif}}
		<li><a href='{$entry->url()}#comments' title='{lang="view_comments"}' class='ipsType_light'>{lang="num_comments" pluralize="$entry->num_comments"}</a></li>
		<li class='ipsType_light'>{lang="num_views_with_number" pluralize="$entry->views"}</li>
	</ul>		
</article>]]></template>
 <template template_group="view" template_name="blogViewMedium" template_data="$entry, $table" template_location="front" template_app="blog"><![CDATA[
<article class='cBlogView_entry ipsContained {{if $entry->hidden()}}ipsModerated{{endif}}' data-controller="core.front.core.lightboxedImages">
	<header class='ipsPhotoPanel ipsPhotoPanel_mini ipsPhotoPanel_notPhone'>
		{template="userPhoto" app="core" params="$entry->author(), 'mini'" group="global"}
		<div>
			<h2 class='ipsType_sectionHead ipsType_blendLinks ipsTruncate ipsTruncate_line'>
				{{if $entry->isFutureDate() || $entry->mapped('pinned') || $entry->mapped('featured') || $entry->hidden() === -1 || $entry->hidden() === 1}}
					{{if $entry->isFutureDate() and $entry->status !== 'draft'}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning" data-ipsTooltip title='{$entry->futureDateBlurb()}'><i class='fa fa-clock-o'></i></span>
					{{elseif $entry->hidden() === 1}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
					{{endif}}
					{{if $entry->mapped('pinned')}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
					{{endif}}
					{{if $entry->mapped('featured')}}
						<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
					{{endif}}
				{{endif}}
				
				{{if $entry->prefix()}}
					{template="prefix" group="global" app="core" params="$entry->prefix( TRUE ), $entry->prefix()"}
				{{endif}}
				<a href="{$entry->url()}" title="{lang="read_more_about" sprintf="$entry->name"}" {{if $entry->canEdit()}}data-role="editableTitle"{{endif}}>
					{{if $entry->unread()}}
						<span class='ipsItemStatus' data-ipsTooltip title="{lang="unread_blog"}"><i class="fa fa-circle"></i></span>
					{{endif}}
					{wordbreak="$entry->name"}
				</a>
			</h2>
			<p class='ipsType_light ipsType_reset ipsType_blendLinks'>
				{lang="byline" htmlsprintf="$entry->author()->link()"}{datetime="$entry->date"}
			</p>
			{{if \IPS\Settings::i()->blog_enable_rating}}
				{template="rating" app="core" params="'large', $entry->averageRating()" group="global"}
			{{endif}}	
		</div>
	</header>

	<section class='ipsType_normal ipsType_richText ipsType_break ipsSpacer_both' data-ipsTruncate data-ipsTruncate-size='4 lines' data-ipsTruncate-type='remove'>
		{$entry->truncated()|raw}
	</section>

	<ul class='ipsList_inline'>
		{{if $table->canModerate()}}
			<li class='ipsPos_left'>
				{{$idField = $entry::$databaseColumnId;}}
				<input type='checkbox' data-role='moderation' name="moderate[{$entry->$idField}]" data-actions="{expression="implode( ' ', $table->multimodActions( $entry ) )"}" data-state='{{if $entry->tableStates()}}{$entry->tableStates()}{{endif}}'>
			</li>
		{{endif}}
		<li><strong><a href='{$entry->url()}' title="{lang="read_more_about" sprintf="$entry->name"}">{lang="read_more"}</a></strong></li>
		<li><a href='{$entry->url()}#comments' title='{lang="view_comments"}' class='ipsType_light'>{lang="num_comments" pluralize="$entry->num_comments"}</a></li>
		<li class='ipsType_light'>{lang="num_views_with_number" pluralize="$entry->views"}</li>
	</ul>		
</article>]]></template>
 <template template_group="view" template_name="comments" template_data="$entry" template_location="front" template_app="blog"><![CDATA[<div class='ipsBox'>
	<div data-controller='core.front.core.commentFeed' {{if settings.auto_polling_enabled}}data-autoPoll{{endif}} data-baseURL='{$entry->url()}' data-feedID='entry-{$entry->id}' id='comments'>
		<div class='ipsPad'>
			<h2 class='ipsType_sectionHead' data-role="comment_count">{lang="num_comments_uc" pluralize="$entry->num_comments"}</h2>
			<hr class='ipsHr'>
			{{if $entry->commentPageCount() > 1}}
				{$entry->commentPagination()|raw}
				<br><br>
			{{endif}}
			<div data-role='commentFeed' data-controller='core.front.core.moderation'>
				{{if count( $entry->comments() )}}
					<form action="{$entry->url()->csrf()->setQueryString( 'do', 'multimodComment' )}" method="post" data-ipsPageAction data-role='moderationTools'>
						{{$commentCount=0; $timeLastRead = $entry->timeLastRead(); $lined = FALSE;}}
						{{foreach $entry->comments() as $comment}}
							{{if !$lined and $timeLastRead and $timeLastRead->getTimestamp() < $comment->mapped('date')}}
								{{if $lined = TRUE and $commentCount}}
									<hr class="ipsCommentUnreadSeperator">
								{{endif}}
							{{endif}}
							{{$commentCount++;}}
							{$comment->html()|raw}
						{{endforeach}}
						{template="commentMultimod" app="core" group="global" params="$entry"}
					</form>
				{{else}}
					<p class='ipsType_normal ipsType_light ipsType_reset' data-role='noComments'>{lang="no_comments"}</p>
				{{endif}}
			</div>
			{{if $entry->commentPageCount() > 1}}
				<hr class='ipsHr'>
				{$entry->commentPagination()|raw}
			{{endif}}
			{{if $entry->commentForm() || $entry->locked() || \IPS\Member::loggedin()->restrict_post || \IPS\Member::loggedIn()->members_bitoptions['unacknowledged_warnings']}}
				<div class='ipsAreaBackground ipsPad ipsClear ipsSpacer_top' data-role='replyArea'>
					{{if $entry->commentForm()}}
						{{if $entry->locked()}}
							<p class='ipsType_reset ipsType_warning ipsComposeArea_warning ipsSpacer_bottom ipsSpacer_half'><i class='fa fa-info-circle'></i> {lang="blog_entry_locked_can_comment"}</p>
						{{endif}}
						{$entry->commentForm()|raw}
					{{else}}
						{{if $entry->locked()}}
							{template="commentUnavailable" group="forms" location="front" app="core" params="'blog_entry_locked_cannot_comment'"}
						{{elseif \IPS\Member::loggedin()->restrict_post}}
							{template="commentUnavailable" group="forms" location="front" app="core" params="'restricted_cannot_comment', \IPS\Member::loggedIn()->warnings(5,NULL,'rpa'), \IPS\Member::loggedIn()->restrict_post"}
						{{elseif \IPS\Member::loggedIn()->members_bitoptions['unacknowledged_warnings']}}
							{template="commentUnavailable" group="forms" location="front" app="core" params="'unacknowledged_warning_cannot_post', \IPS\Member::loggedIn()->warnings( 1, FALSE )"}
						{{endif}}
					{{endif}}
				</div>
			{{endif}}
		</div>
	</div>
</div>]]></template>
 <template template_group="view" template_name="coverPhotoOverlay" template_data="$blog" template_location="front" template_app="blog"><![CDATA[{{if ( $blog->owner() instanceof \IPS\Member ) && \IPS\Request::i()->module == 'view'}}
	<div class='ipsPhotoPanel ipsPhotoPanel_mini'>
		{template="userPhoto" group="global" app="core" params="$blog->owner(), 'mini'"}
		<div>
{{endif}}
	<a href='{$blog->url()}' title='{lang="go_to_blog" sprintf="$blog->_title"}' class='ipsType_blendLinks'>	
		<h1 class='ipsType_pageTitle ipsType_break ipsTruncate ipsTruncate_line'>
			{{if $blog->pinned}}
				<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
			{{endif}}
			{$blog->_title}
		</h1>
	</a>
	<p class='ipsType_normal ipsType_reset ipsType_blendLinks'>
		{{if $blog->owner() instanceof \IPS\Member}}
			{lang="blog_by" htmlsprintf="$blog->owner()->link()"}
		{{else}}
			<i class='fa fa-users'></i> {lang="group_blog_by" sprintf="\IPS\Member::loggedIn()->language()->addToStack( 'blogs_groupblog_name_' . $blog->id )"}
		{{endif}}
	</p>
{{if ( $blog->owner() instanceof \IPS\Member ) && \IPS\Request::i()->module == 'view'}}
		</div>
	</div>
{{endif}}
]]></template>
 <template template_group="view" template_name="entry" template_data="$entry, $previous, $next" template_location="front" template_app="blog"><![CDATA[
<header>
	{template="blogHeader" group="view" app="blog" params="$entry->container()"}
</header>

<article class='ipsBox ipsPad ipsSpacer_top'>
	<header>
		<h1 class='ipsType_pageTitle ipsType_largeTitle ipsType_break'>
			{{if $entry->isFutureDate() || $entry->mapped('pinned') || $entry->mapped('featured') || $entry->hidden() === -1 || $entry->hidden() === 1 || $entry->status === 'draft'}}
				{{if $entry->isFutureDate() and $entry->status !== 'draft'}}
					<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$entry->futureDateBlurb()}'><i class='fa fa-clock-o'></i></span>
				{{elseif $entry->hidden() === -1}}
					<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$entry->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span>
				{{elseif $entry->hidden() === 1}}
					<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
				{{endif}}
				{{if $entry->status === 'draft'}}
					<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="unpublished"}'><i class='fa fa-pencil-square-o'></i></span>
				{{endif}}
				{{if $entry->mapped('pinned')}}
					<span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
				{{endif}}
				{{if $entry->mapped('featured')}}
					<span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
				{{endif}}
			{{endif}}
			
			{{if $entry->prefix()}}
				{template="prefix" group="global" app="core" params="$entry->prefix( TRUE ), $entry->prefix()"}
			{{endif}}
			{wordbreak="$entry->name"}
			{{if $entry->locked()}}<i class='fa fa-lock'></i> {{endif}}{$entry->caption}
		</h1>
		
		<div class='ipsPhotoPanel ipsPhotoPanel_tiny ipsSpacer_top'>
			<div class='ipsPos_right ipsResponsive_noFloat ipsResponsive_hidePhone'>
				{template="follow" app="core" group="global" params="'blog', 'entry', $entry->id, $entry->followers()->count( TRUE )"}
			</div>
			{template="userPhoto" app="core" params="$entry->author(), 'tiny'" group="global"}
			<div>
				<p class='ipsType_light ipsType_reset ipsType_blendLinks'>{{if $entry->date > time()}}{lang="entry_future_posted" htmlsprintf="$entry->author()->link()"}{{else}}{lang="entry_posted" htmlsprintf="$entry->author()->link()"}{{endif}} &middot; {datetime="$entry->date"}</p>
				<p class='ipsType_light ipsType_reset'>{lang="num_views_with_number" pluralize="$entry->views"}</p>
				{{if \IPS\Settings::i()->blog_enable_rating}}
					{$entry->rating()|raw}
				{{endif}}
				{{if count( $entry->tags() )}}		
					{template="tags" group="global" app="core" params="$entry->tags()"}
				{{endif}}
			</div>
		</div>
	</header>
	
	<section class='ipsType_normal ipsSpacer_top ipsSpacer_double' data-controller='core.front.core.lightboxedImages'>
		<div class='ipsType_richText ipsType_break ipsContained'>
			{{if $poll = $entry->getPoll()}}
				{$poll|raw}
			{{endif}}

			{$entry->content|raw}
		</div>
		
		{{if $entry->_album}}
			<br>
			<div class='ipsAreaBackground_light ipsPad_half'>
				<h3 class='ipsType_normal ipsType_reset ipsSpacer_bottom ipsSpacer_half'>{lang="entry_images"}</h3>
				{$entry->_album|raw}
			</div>
		{{endif}}

		<hr class='ipsHr ipsClear'>
		{{if $entry instanceof \IPS\Content\Reputation and settings.reputation_enabled}}
			<div class='ipsPos_right ipsResponsive_noFloat'>
				{template="reputation" app="core" group="global" params="$entry"}
			</div>
		{{endif}}
		{{if ( $entry->isFutureDate() and $entry::canFuturePublish( NULL, $entry->container() ) ) or $entry->status === 'draft' or $entry->canEdit() or $entry->canPin() or $entry->canUnpin() or $entry->canFeature() or $entry->canUnfeature() or $entry->canHide() or $entry->canUnhide() or $entry->canMove() or $entry->canLock() or $entry->canUnlock() or $entry->canDelete()}}
			<a href='#elentryActions_menu' id='elentryActions' class='ipsButton ipsButton_light ipsButton_verySmall' data-ipsMenu>{lang="entry_actions"} <i class='fa fa-caret-down'></i></a>
			<ul id='elentryActions_menu' class='ipsMenu ipsMenu_auto ipsHide'>
				{{if $entry->status === 'draft' or ( $entry->isFutureDate() and $entry::canFuturePublish( NULL, $entry->container() ) )}}
					<li class='ipsMenu_item'><a href='{$entry->url('moderate')->csrf()->setQueryString( array( 'action' => 'publish' ) )}' data-confirm title='{lang="publish_now"}'>{lang="publish"}</a></li>
				{{endif}}
				{{if $entry->canEdit()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'edit' ) )}' title='{lang="edit_title_blog"}'>{lang="edit"}</a></li>
				{{endif}}
				{{if $entry->canFeature()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'feature' ) )}' title='{lang="feature_title_blog"}'>{lang="feature"}</a></li>
				{{endif}}
				{{if $entry->canUnfeature()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unfeature' ) )}' title='{lang="unfeature_title_blog"}'>{lang="unfeature"}</a></li>
				{{endif}}
				{{if $entry->canPin()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'pin' ) )}' title='{lang="pin_title_blog"}'>{lang="pin"}</a></li>
				{{endif}}
				{{if $entry->canUnpin()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unpin' ) )}' title='{lang="unpin_title_blog"}'>{lang="unpin"}</a></li>
				{{endif}}
				{{if $entry->canHide()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'hide' ) )}' title='{lang="hide_title_blog"}' data-ipsDialog data-ipsDialog-title="{lang="hide"}">{lang="hide"}</a></li>
				{{endif}}
				{{if $entry->canUnhide()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unhide' ) )}' title='{{if $entry->hidden() === 1}}{lang="approve_title_blog"}{{else}}{lang="unhide_title_blog"}{{endif}}'>{{if $entry->hidden() === 1}}{lang="approve"}{{else}}{lang="unhide"}{{endif}}</a></li>
				{{endif}}
				{{if $entry->canLock()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'lock' ) )}' title='{lang="blog_lock_title"}'>{lang="lock"}</a></li>
				{{endif}}
				{{if $entry->canUnlock()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unlock' ) )}' title='{lang="blog_unlock_title"}'>{lang="unlock"}</a></li>
				{{endif}}
				{{if $entry->canMove()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'move' ) )}' data-ipsDialog data-ipsDialog-size='narrow' data-ipsDialog-title="{lang="move"}"  title='{lang="blog_move_title"}'>{lang="move"}</a></li>
				{{endif}}
				{{if $entry->canDelete()}}				
					<li class='ipsMenu_item'><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'delete' ) )}' data-confirm  title='{lang="blog_delete_title"}'>{lang="delete"}</a></li>
				{{endif}}
				{{if \IPS\Member::loggedIn()->modPermission('can_view_moderation_log')}}
						<li class='ipsMenu_sep'><hr></li>
						<li class="ipsMenu_item"><a href='{$entry->url()->csrf()->setQueryString( array( 'do' => 'modLog' ) )}' data-ipsDialog data-ipsDialog-title='{lang="moderation_history"}'>{lang="moderation_history"}</a></li>
				{{endif}}
			</ul>
		{{endif}}
		{{if !\IPS\Member::loggedIn()->group['gbw_no_report'] }}
			&nbsp;&nbsp;<a href='{$entry->url('report')}' data-ipsDialog data-ipsDialog-size='medium' data-ipsDialog-title="{lang="report_entry"}" data-ipsDialog-remoteSubmit data-ipsDialog-flashMessage="{lang="report_submit_success"}" title="{lang="report_entry"}">{lang="report_entry"}</a>
		{{endif}}

		<div class='ipsResponsive_showPhone ipsResponsive_block ipsSpacer_top'>
			{template="follow" app="core" group="global" params="'blog', 'entry', $entry->id, $entry->followers()->count( TRUE )"}
		</div>
	</section>
</article>


{{if $previous or $next}}
<nav class="ipsPager ipsGrid ipsClearFix ipsList_inline">
	<div class="ipsGrid_span6 ipsPager_prev">
	{{if $previous}}
		<a href="{$previous->url()}" title="{lang="prev_entry"}" rel="prev">
			<span class="ipsPager_type">{lang="prev_entry"}</span>
			<span class="ipsPager_title ipsType_break">{wordbreak="$previous->name"}</span>
		</a>
	{{endif}}
	</div>
	{{if $next}}
	<div class="ipsGrid_span6 ipsType_right ipsPager_next">
		<a href="{$next->url()}" title="{lang="next_entry"}" rel="next">
			<span class="ipsPager_type">{lang="next_entry"}</span>
			<span class="ipsPager_title ipsType_break">{wordbreak="$next->name"}</span>
		</a>		
	</div>
	{{endif}}
</nav>
<hr class='ipsHr'>
{{else}}
	<br>
{{endif}}

{{if count( $entry->shareLinks() )}}
	{template="sharelinks" app="core" group="global" params="$entry"}
{{endif}}

{{if count( $entry->comments() ) or $entry->commentForm()}}
	<br>
	{template="comments" app="blog" group="view" params="$entry"}
{{endif}}]]></template>
 <template template_group="view" template_name="noEntries" template_data="$container" template_location="front" template_app="blog"><![CDATA[
<div class='ipsType_center'>
	<p class='ipsType_large'>{lang="no_entries"}</p>
	{{if $container->can('add')}}
		<a href='{url="app=blog&module=blog&controller=submit&id={$container->_id}" seoTemplate="blog_submit"}' class='ipsButton ipsButton_primary ipsButton_medium'>{lang="submit_entry"}</a>
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="rows" template_data="$table, $headers, $entries" template_location="front" template_app="blog"><![CDATA[{{if count( $entries ) > 0}}
	{{if $table->sortBy == 'entry_last_update'}}
		{{foreach $entries as $idx => $entry}}
			{{if $idx <= 3}}
				{template="blogViewLarge" group="view" app="blog" params="$entry, $table, $idx === 0"}
			{{endif}}
		{{endforeach}}
	
		{{if count( $entries ) > 4}}
			<div class='ipsGrid ipsGrid_collapsePhone'>
				<div class='ipsGrid_span6'>
					{{foreach $entries as $idx => $entry}}
						{{if $idx > 3 && $idx % 2 == 0}}
							{template="blogViewMedium" group="view" app="blog" params="$entry, $table"}
						{{endif}}
					{{endforeach}}
				</div>
				<div class='ipsGrid_span6'>
					{{foreach $entries as $idx => $entry}}
						{{if $idx > 3 && $idx % 2 != 0}}
							{template="blogViewMedium" group="view" app="blog" params="$entry, $table"}
						{{endif}}
					{{endforeach}}
				</div>
			</div>
		{{endif}}
	{{else}}
		{{foreach $entries as $idx => $entry}}
			{template="blogViewLarge" group="view" app="blog" params="$entry, $table, FALSE"}
		{{endforeach}}
	{{endif}}
{{else}}
	{template="noEntries" group="view" app="blog" params="$table->container()"}
{{endif}}]]></template>
 <template template_group="view" template_name="rssImport" template_data="$form" template_location="front" template_app="blog">{$form|raw}</template>
 <template template_group="view" template_name="view" template_data="$blog, $table" template_location="front" template_app="blog"><![CDATA[{template="blogHeader" group="view" app="blog" params="$blog"}

{{if $blog->description}}
	<section class='ipsAreaBackground_light ipsPad'>
		<h3 class='ipsType_minorHeading'>{lang="about_this_blog"}</h3>
		<div class='ipsType_richText ipsType_light ipsType_normal' data-ipsTruncate data-ipsTruncate-size='4 lines' data-ipsTruncate-type='hide'>
			{$blog->description|raw}
		</div>
	</section>
{{endif}}

{{if \IPS\blog\Entry::canCreate( \IPS\Member::loggedIn(), $blog ) or $blog->canDelete() or $blog->canEdit() or ( $blog->pinned and \IPS\Member::loggedIn()->modPermission('can_unpin_content') ) || ( !$blog->pinned and \IPS\Member::loggedIn()->modPermission('can_pin_content') )}}
	<ul class="ipsToolList ipsToolList_horizontal ipsClearfix ipsSpacer_both">
		<li class='ipsToolList_primaryAction'>
			<a class="ipsButton ipsButton_medium ipsButton_important ipsButton_fullWidth" href="{url="app=blog&module=blogs&controller=submit&id={$blog->id}" seoTemplate="blog_submit"}">{lang="add_blog_entry"}</a>
		</li>
		{{if $blog->canDelete() or $blog->canEdit() or ( $blog->pinned and \IPS\Member::loggedIn()->modPermission('can_unpin_content') ) || ( !$blog->pinned and \IPS\Member::loggedIn()->modPermission('can_pin_content') ) }}
			<li>
				<a href='#elBlogManage_menu' id='elBlogManage' data-ipsMenu class='ipsButton ipsButton_link ipsButton_medium ipsButton_fullWidth'>{lang="manage_blog"} <i class='fa fa-caret-down'></i></a>
				<ul id='elBlogManage_menu' class='ipsMenu ipsMenu_normal ipsHide'>
				
					{{if $blog->canEdit() }}
						<li class='ipsMenu_item'>
							<a href='{$blog->url()->setQueryString( array( 'do' => 'editBlog', 'csrfKey' => \IPS\Session::i()->csrfKey ) )}' title="{lang="edit_blog"}" data-ipsDialog data-ipsDialog-title="{lang="edit_blog"}">{lang="edit_blog"}</a>
						</li>
						{{if \IPS\Settings::i()->blog_allow_rssimport }}
							<li class='ipsMenu_item'>
								<a href='{$blog->url()->setQueryString( array( 'do' => 'rssImport', 'csrfKey' => \IPS\Session::i()->csrfKey ) )}' title="{lang="blog_rss_import"}" data-ipsDialog data-ipsDialog-title="{lang="blog_rss_import"}">{lang="blog_rss_import"}</a>
							</li>
						{{endif}}
					{{endif}}

					{{if $blog->pinned and \IPS\Member::loggedIn()->modPermission('can_unpin_content')}}
						<li class='ipsMenu_item'>
							<a href='{$blog->url()->setQueryString( array( 'do' => 'changePin', 'csrfKey' => \IPS\Session::i()->csrfKey ) )}'>{lang="unpin_blog"}</a>
						</li>
					{{endif}}
					{{if !$blog->pinned and \IPS\Member::loggedIn()->modPermission('can_pin_content')}}
						<li class='ipsMenu_item'>
							<a href='{$blog->url()->setQueryString( array( 'do' => 'changePin', 'csrfKey' => \IPS\Session::i()->csrfKey ) )}'>{lang="pin_blog"}</a>
						</li>
					{{endif}}
					
					{{if $blog->canDelete() }}
						<li class='ipsMenu_item'>
							<a href='{$blog->url()->setQueryString( array( 'do' => 'deleteBlog', 'csrfKey' => \IPS\Session::i()->csrfKey ) )}' data-confirm title="{lang="delete_blog"}">{lang="delete_blog"}</a>
						</li>
					{{endif}}
				</ul>
			</li>
		{{endif}}
	</ul>
{{endif}}

{$table|raw}

<div class='ipsResponsive_showPhone ipsResponsive_block ipsSpacer_top'>
	{template="follow" app="core" group="global" params="'blog', 'blog', $blog->_id, \IPS\blog\Entry::containerFollowerCount( $blog )"}
</div>]]></template>
 <template template_group="widgets" template_name="blogCommentFeed" template_data="$comments, $title, $orientation='vertical'" template_location="front" template_app="blog"><![CDATA[{{if !empty( $comments ) }}
	<h3 class='ipsType_reset ipsWidget_title'>{$title}</h3>
	{{if $orientation == 'vertical'}}
		<div class='ipsWidget_inner ipsPad_half'>
			<ul class='ipsDataList ipsDataList_reducedSpacing'>
				{{foreach $comments as $comment}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_icon ipsPos_top'>
							{template="userPhoto" group="global" app="core" params="$comment->author(), 'tiny'"}
						</div>
						<div class='ipsDataItem_main'>
							<a href="{$comment->url()}" class='ipsType_medium ipsType_break'>{wordbreak="$comment->item()->name"}</a><br>
							<p class='ipsType_reset ipsType_medium ipsType_light ipsType_blendLinks'>{lang="byline_nodate" htmlsprintf="$comment->author()->link()"} &middot; <a href="{$comment->url()}" class='ipsDataItem_title ipsType_break ipsType_blendLinks'>{$comment->dateLine()|raw}</a></p>
							<div class='ipsType_medium ipsType_textBlock ipsType_richText ipsType_break ipsContained ipsSpacer_top ipsSpacer_half' data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='{{if $orientation == 'vertical'}}6 lines{{else}}2 lines{{endif}}'>
								{$comment->truncated( true )|raw}
							</div>
						</div>
					</li>
				{{endforeach}}
			</ul>
		</div>
	{{else}}
		<div class='ipsWidget_inner'>
			<ul class='ipsDataList'>
				{{foreach $comments as $comment}}
					<li class='ipsDataItem ipsClearfix'>
						<div class='ipsComment_header ipsPhotoPanel ipsPhotoPanel_mini'>
							{template="userPhoto" app="core" group="global" params="$comment->author(), 'mini', $comment->warningRef()"}
							<div>
								<p class='ipsPos_right ipsType_reset ipsType_blendLinks'>
									<a href='{$comment->item()->url()->setQueryString( array( 'do' => 'findComment', 'comment' => $comment->id ) )}' data-ipsTooltip title='{lang="share_this_comment"}' data-ipsMenu data-ipsMenu-closeOnClick='false' id='elShareComment_{$comment->id}'><i class='fa fa-share-alt'></i></a>
								</p>
								<h3 class='ipsComment_author ipsType_blendLinks'>
									<strong class='ipsType_normal'>{template="userLink" app="core" group="global" params="$comment->author(), $comment->warningRef()"}</strong>
									{template="reputationBadge" group="global" app="core" params="$comment->author()"}
								</h3>
								<p class='ipsComment_meta ipsType_light ipsType_medium'>
									<a href='{$comment->item()->url()->setQueryString( array( 'do' => 'findComment', 'comment' => $comment->id ) )}' class='ipsType_blendLinks'>{$comment->dateLine()|raw}</a>
									{{if $comment->editLine()}}
										({lang="edited_lc"})
									{{endif}}
									{{if $comment->hidden()}}
										&middot; {$comment->hiddenBlurb()}
									{{endif}}
									{{if $comment instanceof \IPS\Content\ReportCenter and !\IPS\Member::loggedIn()->group['gbw_no_report'] and $comment->hidden() !== 1 }}
										&middot; <a href='{$comment->url('report')}' data-ipsDialog data-ipsDialog-remoteSubmit data-ipsDialog-size='medium' data-ipsDialog-flashMessage='{lang="report_submit_success"}' data-ipsDialog-title="{lang="report"}" data-action='reportComment' title='{lang="report_content"}'>{lang="report"}</a>
									{{endif}}
								</p>
					
								{{if member.modPermission('mod_see_warn') and $comment->warning}}
									{template="commentWarned" group="global" app="core" params="$comment"}
								{{endif}}
							</div>
						</div>

						<div class='ipsPad ipsClearfix'>
							{{if in_array( 'IPS\Content\Reputation', class_implements( $comment ) ) and settings.reputation_highlight and $comment->reputation() >= settings.reputation_highlight}}
								<strong class='ipsComment_popularFlag' data-ipsTooltip title='{lang="this_is_a_popular_comment"}'><i class='fa fa-star'></i></strong>
							{{endif}}
							<a href="{$comment->url()}" class='ipsDataItem_title ipsType_break'>{wordbreak="$comment->item()->name"}</a><br>
							<div data-role='commentContent' class='ipsType_normal ipsType_richText ipsType_break ipsContained' data-controller='core.front.core.lightboxedImages'>
								{{if $comment->hidden() === 1 && $comment->author()->member_id == \IPS\Member::loggedIn()->member_id}}
									<strong class='ipsType_medium ipsType_warning'><i class='fa fa-info-circle'></i> {lang="comment_awaiting_approval"}</strong>
								{{endif}}
								{$comment->content()|raw}
								
								{{if $comment->editLine()}}
									{$comment->editLine()|raw}
								{{endif}}
							</div>
							
							{{if $comment->hidden() !== 1 && $comment instanceof \IPS\Content\Reputation and settings.reputation_enabled}}
								{template="reputation" group="global" app="core" params="$comment, 'ipsPos_right ipsResponsive_noFloat'"}
							{{endif}}
						</div>
					</li>
				{{endforeach}}
			</ul>
		</div>
	{{endif}}
{{endif}}
]]></template>
 <template template_group="widgets" template_name="blogs" template_data="$blogs, $title, $orientation='vertical'" template_location="front" template_app="blog"><![CDATA[<h3 class='ipsType_reset ipsWidget_title'>{$title}</h3>
{{if $orientation == 'vertical'}}
<div class='ipsPad_half ipsWidget_inner'>
	<ul class='ipsDataList ipsDataList_reducedSpacing'>
		{{foreach $blogs as $blog}}
			<li class='ipsDataItem'>
			<div class='ipsColumns ipsColumns_collapsePhone'>
				<h4 class='ipsType_large ipsType_reset'>{$blog->_title}</h4>
				<div>
					<ul class='ipsGrid'>
						<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_items}</strong><br>{lang="blog_entries" pluralize="$blog->_items"}</li>
						<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_comments}</strong><br>{lang="blog_comments" pluralize="$blog->_comments"}</li>
						<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->num_views}</strong><br>{lang="blog_views" pluralize="$blog->num_views"}</li>
					</ul>
				</div>
			</div>
			</li>
		{{endforeach}}
	</ul>
</div>
{{else}}
	<ol class="ipsDataList ipsClear cBlogList ipsAreaBackground ipsDataList_large" data-role="tableRows" itemscope="" itemtype="http://schema.org/ItemList">
	{{foreach $blogs as $blog}}
		<li class='ipsDataItem ipsAreaBackground_reset'>
			<div class='ipsColumns ipsColumns_collapsePhone'>
				<div class='ipsColumn ipsColumn_veryWide cBlogInfo ipsAreaBackground_light'>
					{$blog->coverPhoto()|raw}
					<div class='ipsPad'>
						<ul class='ipsGrid'>
							<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_items}</strong><br>{lang="blog_entries" pluralize="$blog->_items"}</li>
							<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->_comments}</strong><br>{lang="blog_comments" pluralize="$blog->_comments"}</li>
							<li class='ipsGrid_span4'><strong class='ipsType_normal'>{$blog->num_views}</strong><br>{lang="blog_views" pluralize="$blog->num_views"}</li>
						</ul>
						{{if count( $blog->_recentEntries )}}
							<h4 class='ipsType_minorHeading'>{lang="recent_entries"}</h4>
							<ul class='ipsDataList ipsDataList_reducedSpacing ipsType_medium ipsList_reset ipsType_light'>
								{{foreach $blog->_recentEntries as $entry}}
									<li class='ipsDataItem'>
										<div class='ipsDataItem_main'>
											{{if $entry->unread()}}
												<a href='{$entry->url()}' title='{lang="view_this_entry" sprintf="$entry->name"}' class=''>
													<span class='ipsItemStatus ipsItemStatus_tiny'><i class='fa fa-circle'></i></span>
												</a>
											{{endif}}
											<a href='{$entry->url()}' title='{lang="view_this_entry" sprintf="$entry->name"}' class='ipsType_break'>
												{wordbreak="$entry->name"}
											</a>
										</div>
									</li>
								{{endforeach}}
							</ul>
						{{endif}}
					</div>
				</div>
				<div class='ipsColumn ipsColumn_fluid ipsPad'>
					{{if $blog->latestEntry()}}
						<div class='ipsPhotoPanel ipsPhotoPanel_mini'>
							{template="userPhoto" app="core" params="$blog->latestEntry()->author(), 'mini'" group="global"}
							<div>
								<strong class='ipsType_minorHeading'>{lang="latest_entry"}</strong><br>
								<h3 class='ipsType_reset ipsType_sectionHead ipsType_blendLinks'>
									<a href='{$blog->latestEntry()->url()}' title='{lang="view_this_entry" sprintf="$blog->latestEntry()->name"}'>
										{{if $blog->latestEntry()->unread()}}
											<span class='ipsItemStatus' data-ipsTooltip title="{lang="unread_blog"}"><i class="fa fa-circle"></i></span>
										{{endif}}
										{wordbreak="$blog->latestEntry()->name"}
									</a>
									{{if $blog->latestEntry()->locked()}}<i class='fa fa-lock'></i> {{endif}}{$blog->latestEntry()->caption}
										{{if $blog->latestEntry()->isFutureDate() || $blog->latestEntry()->mapped('pinned') || $blog->latestEntry()->mapped('featured') || $blog->latestEntry()->hidden() === -1 || $blog->latestEntry()->hidden() === 1 || $blog->latestEntry()->status === 'draft'}}
										{{if $blog->latestEntry()->isFutureDate()}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$blog->latestEntry()->futureDateBlurb()}'><i class='fa fa-clock-o'></i></span>
										{{elseif $blog->latestEntry()->hidden() === -1}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$blog->latestEntry()->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span>
										{{elseif $blog->latestEntry()->hidden() === 1}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
										{{endif}}
										{{if $blog->latestEntry()->status === 'draft'}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="unpublished"}'><i class='fa fa-pencil-square-o'></i></span>
										{{endif}}
										{{if $blog->latestEntry()->mapped('pinned')}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
										{{endif}}
										{{if $blog->latestEntry()->mapped('featured')}}
											<span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
										{{endif}}
									{{endif}}
								</h3>
								{{if !( $blog->owner() instanceof \IPS\Member )}}
									<p class='ipsType_medium ipsType_reset ipsType_light'>{lang="byline" htmlsprintf="trim( $blog->latestEntry()->author()->link() )"} {datetime="$blog->latestEntry()->date"}</p>
								{{endif}}
							</div>
						</div>
						<div class='ipsType_medium ipsType_richText ipsSpacer_both cBlogInfo_content'>
							{$blog->latestEntry()->content()|raw}
						</div>
						<ul class='ipsList_inline'>
							<li>
								<strong><a href='{$blog->latestEntry()->url()}' title='{lang="read_more_entry"}'>{lang="read_more"}</a></strong>
							</li>
							{{if \IPS\Settings::i()->blog_enable_rating}}
								<li>{template="rating" app="core" params="'small', $blog->latestEntry()->averageRating()" group="global"}</li>
							{{endif}}
							{{if !$blog->latestEntry()->num_comments}}
								<li class='ipsType_light'>{lang="num_comments" pluralize="$blog->latestEntry()->num_comments"}</li>
							{{else}}
								<li><a href='{$blog->latestEntry()->url()}#comments' title='{lang="see_comments_on_entry"}'>{lang="num_comments" pluralize="$blog->latestEntry()->num_comments"}</a></li>
							{{endif}}
						</ul>
					{{else}}
						<p class='ipsEmpty ipsType_center'>{lang="no_entries_yet"}</p>
					{{endif}}
				</div>
				
			</div>
		</li>
	{{endforeach}}
	</ol>
{{endif}}]]></template>
 <template template_group="widgets" template_name="blogStatistics" template_data="$stats, $orientation='vertical'" template_location="front" template_app="blog"><![CDATA[<h3 class='ipsType_reset ipsWidget_title'>{lang="block_blogStatistics"}</h3>
<div class='ipsWidget_inner'>
	{{if $orientation == 'vertical'}}
		<div class='ipsPad_half'>
			<ul class='ipsDataList' id='elBlogStats'>
				<li class='ipsDataItem'>
					<div class='ipsDataItem_main ipsPos_middle'>
						<strong>{lang="total_blogs"}</strong>
					</div>
					<div class='ipsDataItem_stats ipsDataItem_statsLarge'>
						<span class='ipsDataItem_stats_number'>{number="$stats['total_blogs']"}</span>
					</div>
				</li>
				<li class='ipsDataItem'>
					<div class='ipsDataItem_main ipsPos_middle'>
						<strong>{lang="total_entries"}</strong>
					</div>
					<div class='ipsDataItem_stats ipsDataItem_statsLarge'>
						<span class='ipsDataItem_stats_number'>{number="$stats['total_entries']"}</span>
					</div>
				</li>
			</ul>
		</div>
	{{else}}
		<div class='ipsGrid ipsGrid_collapsePhone ipsWidget_stats'>
			<div class='ipsGrid_span6 ipsType_center'>
				<span class='ipsType_large ipsWidget_statsCount'>{number="$stats['total_blogs']"}</span><br>
				<span class='ipsType_light ipsType_medium'>{lang="total_blogs"}</span>
			</div>
			<div class='ipsGrid_span6 ipsType_center'>
				<span class='ipsType_large ipsWidget_statsCount'>{number="$stats['total_entries']"}</span><br>
				<span class='ipsType_light ipsType_medium'>{lang="total_entries"}</span>
			</div>
		</div>
	{{endif}}
</div>]]></template>
 <template template_group="widgets" template_name="entryFeed" template_data="$entries, $title, $orientation='vertical'" template_location="front" template_app="blog"><![CDATA[{{if !empty( $entries ) }}
	<h3 class='ipsType_reset ipsWidget_title'>{$title}</h3>
	<div class='ipsPad_half ipsWidget_inner'>
		<ul class='ipsDataList ipsDataList_reducedSpacing'>
			{{foreach $entries as $entry}}
				{template="entryRow" group="widgets" app="blog" params="$entry, $orientation"}
			{{endforeach}}
		</ul>
	</div>
{{endif}}]]></template>
 <template template_group="widgets" template_name="entryRow" template_data="$entry, $orientation='vertical'" template_location="front" template_app="blog"><![CDATA[<li class='ipsDataItem'>
	<div class='ipsDataItem_icon ipsPos_top'>
		{template="userPhoto" app="core" params="$entry->author(), 'tiny'" group="global"}
	</div>
	<div class='ipsDataItem_main'>
		<a href="{$entry->url('getLastComment')}" title='{lang="view_this_entry" sprintf="$entry->_title"}' class='ipsType_medium ipsType_break'>{wordbreak="$entry->name"}</a><br>
		<span class='ipsType_blendLinks ipsType_light ipsType_medium ipsType_break ipsContained'>{lang="byline_nodate" htmlsprintf="$entry->author()->link()"} {lang="in"} <a href='{$entry->container()->url()}' class='ipsType_blendLinks'>{$entry->container()->_title}</a></span>
		{{if \IPS\Settings::i()->blog_enable_rating}}
			{template="rating" group="global" location="front" app="core" params="'small', $entry->averageRating()"} &nbsp;&nbsp;
		{{endif}}
		<span class='ipsType_medium ipsType_reset'>{{if !$entry->num_comments}}<span class='ipsType_light'>{{endif}}<i class='fa fa-comment'></i> {number="$entry->num_comments"}{{if !$entry->num_comments}}</span>{{endif}}</span>
		{{if $orientation == 'horizontal'}}
			<div class='ipsType_medium ipsType_richText ipsType_break' data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='2 lines'>
				{$entry->truncated()|raw}
			</div>
		{{endif}}
	</div>
</li>]]></template>
 <css css_location="front" css_app="blog" css_attributes="" css_path="." css_name="blog.css"><![CDATA[#elBlogHeader > .ipsCoverPhoto {
	height: 150px;
	padding-top: 80px;
	text-shadow: 0px 0px 4px rgba(0,0,0,0.5);
}

#elBlogHeader .ipsType_pageTitle {
	line-height: 1.3;
}

#elBlogHeaderStats {
	background: #222;
	color: #fff;
}

	#elBlogHeaderStats .ipsButton {
		margin-top: 5px;
	}

.cBlogList .ipsDataItem {
	border: 0;
	margin-bottom: 15px;
}

	.cBlogList .ipsType_minorHeading {
		margin-bottom: 5px;
	}

	.cBlogList .ipsEmpty {
		padding-top: 40px;
	}
	
html[dir="ltr"] .cBlogInfo {
	border-right: 1px solid rgba(0,0,0,0.05);
	padding-right: 0px !important;
}
html[dir="rtl"] .cBlogInfo {
	border-left: 1px solid rgba(0,0,0,0.05);
	padding-left: 0px !important;
}
	
	.cBlogInfo .ipsPageHead_special {
		border-radius: 0;
	}
	
	.cBlogInfo [data-role="coverPhotoOptions"] {
		display: none;
	}

	html[dir="ltr"] .cBlogInfo + .ipsColumn {
		padding-left: 15px;
	}
	html[dir="rtl"] .cBlogInfo + .ipsColumn {
		padding-right: 15px;
	}

	.cBlogInfo .ipsType_pageTitle {
		font-size: 22px;
	}

	.cBlogInfo_content {
		max-height: 170px;
		position: relative;
		overflow: hidden !important;
	}

		.cBlogInfo_content:after {
			content: '';
			display: block;
			height: 40px;
			position: absolute;
			left: 0;
			right: 0;
			bottom: 0;
			background: -moz-linear-gradient(top, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);
			background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,0)), color-stop(100%,rgba(255,255,255,1)));
			background: -webkit-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);
			background: -o-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);
			background: -ms-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);
			background: linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);
		}

	.cBlogInfo .ipsDataItem_generic.ipsDataItem_size1 {
		min-width: 15px;
	}

	.cBlogInfo .ipsDataItem {
		margin-bottom: 0;
	}

	.cBlogInfo .ipsDataItem > div {
		padding: 0 !important;
	}

.cBlogView_entry {
	border-bottom: 2px solid #ebebeb;
	padding: 20px 0 30px 0;
}

	.cBlogView_entry.ipsModerated {
		padding-right: 15px;
		padding-left: 15px;
	}

.cBlogView_entrySelected {
	background-color: {theme="selected"};
}

#elBlogHeader .ipsType_richText {
	margin-bottom: 15px;
}

#elBlogHeader.cBlogHeader_entryView .cBlogView_contributors li {
	margin-bottom: 0;
}

.cBlockView_stats {
	max-width: 300px;
}

	.cBlockView_stats > li {
		margin-bottom: 0 !important;
	}

.cBlogView_contributors {
	margin-top: 7px !important;
}

	.cBlogView_contributors > li {
		position: relative;
		margin-bottom: 5px;
		text-align: center;
	}

	html[dir="ltr"] .cBlogView_contributors .ipsNotificationCount {
		top: -3px;
		right: -3px;
	}
	html[dir="rtl"] .cBlogView_contributors .ipsNotificationCount {
		top: -3px;
		left: -3px;
	}
	
.cBlogContributors {
	margin-top: 10px;
}
.cBlogContributors ul {
	padding: 0;
}
.cBlogContributors li {
	margin-right: 10px;
	margin-bottom: 5px;
	float: left;
	list-style: none;
}]]></css>
 <css css_location="front" css_app="blog" css_attributes="" css_path="." css_name="embed.css"><![CDATA[.cBlogEmbeddedPreview {
	line-height: 1.4;
}

.cBlogEmbedded_stats {
	max-width: 270px;
	margin-top: 5px !important;
}

.cBlogEmbedded_stats > li {
	margin-bottom: 0 !important;
}]]></css>
 <css css_location="front" css_app="blog" css_attributes="" css_path="." css_name="profile.css"><![CDATA[.cProfileBlog_stats {
	max-width: 300px;
}

	.cProfileBlog_stats > li {
		margin-bottom: 0 !important;
	}]]></css>
</theme>
