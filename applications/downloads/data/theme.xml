<?xml version="1.0" encoding="UTF-8"?>
<theme name="Default" author_name="Invision Power Services, Inc" author_url="http://invision-virus.com">
 <template template_group="browse" template_name="categories" template_data="" template_location="front" template_app="downloads"><![CDATA[{{if !\IPS\Request::i()->isAjax()}}
	<div class="ipsPageHeader ipsPad_half ipsClearfix ipsSpacer_bottom" id='elDownloadersHeader' data-ipsSticky data-ipsSticky-disableIn='phone'>
		<h1 class="ipsType_pageTitle">{lang="__app_downloads"} &nbsp;&nbsp;<a href='#elDownloadsCategories_menu' data-ipsMenu data-ipsMenu-appendTo='#elDownloadersHeader' id='elDownloadsCategories' class='ipsButton ipsButton_light ipsButton_small'><span class='ipsType_light'>{lang="downloads_category_select"}&nbsp;&nbsp;</span> {lang="all"} <i class='fa fa-caret-down'></i></a></h1>
		{template="categoryMenu" group="browse" params="\IPS\downloads\Category::roots()"}
	</div>
	<div class='ipsBox'>
		<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="categories"}</h2>
{{endif}}
		<ol class="ipsDataList ipsDataList_large">
			{template="categoryRow" group="browse" params="NULL, NULL, \IPS\downloads\Category::roots()"}
		</ol>
{{if !\IPS\Request::i()->isAjax()}}	
	</div>
{{endif}}]]></template>
 <template template_group="browse" template_name="categoriesSidebar" template_data="$currentCategory=NULL" template_location="front" template_app="downloads"><![CDATA[{{$categories = $currentCategory ? $currentCategory->children() : \IPS\downloads\Category::roots();}}
<div id='elDownloadsCategories' class='ipsWidget ipsWidget_vertical ipsBox'>
	<h3 class='ipsType_sectionTitle ipsType_reset'>{{if $currentCategory}}{lang="subcategories"}{{else}}{lang="categories"}{{endif}}</h3>
	<div class='ipsPad_half'>
		<div class='ipsSideMenu'>
			<ul class='ipsSideMenu_list'>
				{{foreach $categories as $category}}
					{{if $category->open OR \IPS\Member::loggedIn()->isAdmin()}}
						<li>
							<a href="{$category->url()}" class='ipsSideMenu_item {{if $currentCategory && $currentCategory->id == $category->id}}{{endif}} ipsTruncate ipsTruncate_line'><span class='ipsBadge ipsBadge_style1 ipsPos_right cDownloadsCategoryCount'>{number="\IPS\downloads\File::contentCount( $category )"}</span><strong class='ipsType_normal'>{$category->_title}</strong></a>
							{{if $category->hasChildren()}}
								<ul class="ipsSideMenu_list">
									{{foreach $category->children() as $idx => $subcategory}}
										{{if $subcategory->open OR \IPS\Member::loggedIn()->isAdmin()}}
											<li>
												{{if $idx >= 5}}
													<a href='{$category->url()}' class='ipsSideMenu_item'><span class='ipsType_light ipsType_small'>{lang="and_x_more" sprintf="count( $category->children() ) - 5"}</span></a>
													{{break;}}
												{{else}}
													<a href="{$subcategory->url()}" class='ipsSideMenu_item ipsTruncate ipsTruncate_line'><strong class='ipsPos_right ipsType_small cDownloadsCategoryCount'>{number="\IPS\downloads\File::contentCount( $subcategory )"}</strong>{$subcategory->_title}</a>
												{{endif}}
											</li>
										{{endif}}
									{{endforeach}}
								</ul>
							{{endif}}
						</li>
					{{endif}}
				{{endforeach}}
			</ul>
			<p class='ipsType_center'>
				<a href='{url="app=downloads&module=downloads&controller=browse&do=categories" seoTemplate="downloads_categories"}' class=''>{lang="browse_categories_d"} &nbsp;<i class='fa fa-caret-right'></i></a>
			</p>
		</div>
		{{if \IPS\Application::appIsEnabled( 'nexus' ) and settings.idm_nexus_on}}
			{template="chooseCurrency" app="nexus" group="store" params="$currentCategory ? $currentCategory->url() : \IPS\Http\Url::internal('app=downloads&module=downloads&controller=browse', 'front', 'downloads')"}
		{{endif}}
	</div>
</div>]]></template>
 <template template_group="browse" template_name="category" template_data="$category, $table" template_location="front" template_app="downloads"><![CDATA[<div class="ipsPageHeader ipsClearfix ipsSpacer_bottom">
	<h1 class="ipsType_pageTitle">{$category->_title}</h1>
	<div class='ipsPos_right ipsResponsive_noFloat ipsResponsive_hidePhone'>
		{template="follow" app="core" group="global" params="'downloads', 'category', $category->_id, \IPS\downloads\File::containerFollowers( $category )->count( TRUE )"}
	</div>
	{{if $category->hasChildren()}}
		<br>
		<a href='#elDownloadsCategories_menu' data-ipsMenu id='elDownloadsCategories' class='ipsButton ipsButton_fullWidth ipsButton_light ipsButton_small ipsResponsive_block ipsResponsive_hideDesktop'>{lang="subcategory"} &nbsp;<i class='fa fa-caret-down'></i></a>
	{{endif}}
	{{if $category->description}}
		<div class='ipsPageHeader_info ipsType_normal'>
			{$category->description|raw}
		</div>
	{{endif}}
</div>
{template="categoryMenu" group="browse" params="$category->children()"}

{{if \IPS\downloads\Category::canOnAny('add') AND ( !$category OR $category->can('add') ) }}
<ul class="ipsToolList ipsToolList_horizontal ipsResponsive_hidePhone ipsClearfix ipsSpacer_both">
	{template="categoryButtons" group="browse" params="\IPS\downloads\Category::canOnAny('add'), $category"}
</ul>
{{endif}}

<div class='ipsBox'>
{$table|raw}
</div>

{{if \IPS\downloads\Category::canOnAny('add') AND ( !$category OR $category->can('add') ) }}
<ul class="ipsToolList ipsToolList_horizontal ipsResponsive_showPhone ipsResponsive_block ipsClearfix ipsSpacer_top">
	{template="categoryButtons" group="browse" params="\IPS\downloads\Category::canOnAny('add'), $category"}
</ul>
{{endif}}

<div class='ipsResponsive_showPhone ipsResponsive_block ipsSpacer_top'>
	{template="follow" app="core" group="global" params="'downloads', 'category', $category->_id, \IPS\downloads\File::containerFollowers( $category )->count( TRUE )"}
</div>]]></template>
 <template template_group="browse" template_name="categoryButtons" template_data="$canSubmitFiles, $currentCategory=NULL" template_location="front" template_app="downloads"><![CDATA[
{{if $canSubmitFiles AND ( !$currentCategory OR $currentCategory->can('add') ) }}
<li class='ipsToolList_primaryAction'>
	<a class="ipsButton ipsButton_medium ipsButton_important ipsButton_fullWidth" href="{{if $currentCategory}}{url="app=downloads&module=downloads&controller=submit&category={$currentCategory->id}&_new=1" seoTemplate="downloads_submit"}{{else}}{url="app=downloads&module=downloads&controller=submit&_new=1" seoTemplate="downloads_submit"}{{endif}}" data-ipsDialog data-ipsDialog-title='{lang="submit_a_file"}' data-ipsDialog-size='narrow'>{lang="submit_a_file"}</a>
</li>
{{endif}}]]></template>
 <template template_group="browse" template_name="categoryMenu" template_data="$categories" template_location="front" template_app="downloads"><![CDATA[<ul class='ipsMenu ipsMenu_auto ipsHide' id='elDownloadsCategories_menu'>
	{{foreach $categories as $cat}}
		{{if $cat->can('view')}}
			<li class='ipsMenu_item'>
				<a href='{$cat->url()}'><span class="ipsMenu_itemCount">{number="\IPS\downloads\File::contentCount( $cat )"}</span>{$cat->_title}</a>
			</li>
		{{endif}}
	{{endforeach}}
</ul>
]]></template>
 <template template_group="browse" template_name="categoryRow" template_data="$table, $headers, $categories" template_location="front" template_app="downloads"><![CDATA[{{foreach $categories as $category}}
	{{if $category->can('view') AND ( $category->open OR \IPS\Member::loggedIn()->isAdmin() )}}
		<li class="ipsDataItem ipsDataItem_responsivePhoto ipsClearfix">
			<div class='ipsDataItem_icon'>
				<span class='ipsItemStatus ipsItemStatus_large {{if !\IPS\downloads\File::containerUnread( $category )}}ipsItemStatus_read{{endif}}'>
					<i class="fa fa-download"></i>
				</span>
			</div>
			<div class="ipsDataItem_main ipsPos_middle">
				<h4 class="ipsDataItem_title ipsType_large">
					<a href="{$category->url()}">{$category->_title}</a>
				</h4>
				{{if $category->hasChildren()}}
					<ul class="ipsDataItem_subList ipsList_inline">
						{{foreach $category->children() as $subcategory}}
							<li class="{{if \IPS\downloads\File::containerUnread( $subcategory )}}ipsDataItem_unread{{endif}}">
								<a href="{$subcategory->url()}">{$subcategory->_title}</a>
							</li>
						{{endforeach}}
					</ul>
				{{endif}}
				{{if $category->description}}
					<p class="ipsDataItem_meta">{$category->description|raw}</p>
				{{endif}}
			</div>
			<dl class="ipsDataItem_stats ipsDataItem_statsLarge">
				{{$count = \IPS\downloads\File::contentCount( $category );}}
				<dt class="ipsDataItem_stats_number">{number="$count"}</dt>
				<dd class="ipsDataItem_stats_type ipsType_light">{lang="files_no_number" pluralize="$count"}</dd>
			</dl>
			<ul class="ipsDataItem_lastPoster ipsDataItem_withPhoto">
				{{if $lastPost = $category->lastFile()}}
					<li>{template="userPhoto" app="core" group="global" params="$lastPost->author(), 'tiny'"}</li>
					<li><a href="{$lastPost->url()}" class='ipsType_break ipsContained'>{$lastPost->name}</a></li>
					<li class='ipsType_blendLinks'>{lang="byline_nodate" htmlsprintf="$lastPost->author()->link()"}</li>
					<li data-short="1 dy" class="ipsType_light">{datetime="$lastPost->submitted"}</li>
				{{endif}}
			</ul>
		{{if method_exists( $table, 'canModerate' ) AND $table->canModerate()}}
			<div class='ipsDataItem_modCheck'>
				<span class='ipsCustomInput'>
					<input type='checkbox' data-role='moderation' name="moderate[{$category->_id}]" data-actions="{expression="implode( ' ', $table->multimodActions( $category ) )"}" data-state=''>
					<span></span>
				</span>
			</div>
		{{endif}}
		</li>
	{{endif}}
{{endforeach}}]]></template>
 <template template_group="browse" template_name="featuredFile" template_data="$file" template_location="front" template_app="downloads"><![CDATA[<li class='ipsCarousel_item ipsAreaBackground_reset ipsPad'>
	<div class='ipsColumns ipsColumns_collapsePhone'>
		<div class='ipsColumn ipsColumn_medium ipsType_center'>
			{{if $file->primary_screenshot}}
            {template="thumbImage" group="global" app="core" params="$file->primary_screenshot_thumb, $file->name, 'large', '', 'view_this', $file->url()"}
			{{else}}
				<div class='ipsPos_left ipsNoThumb ipsThumb ipsThumb_large'></div>
			{{endif}}
		</div>
		<div class='ipsColumn ipsColumn_fluid'>
			<h2 class='ipsType_pageTitle'>
				{{if $file->prefix()}}
					<a href="{url="app=core&module=search&controller=search&tags={$file->prefix( TRUE )}" seoTemplate="tags"}" title="{lang="find_tagged_content" sprintf="$file->prefix()"}" class='ipsTag_prefix'>{$file->prefix()}</a>
				{{endif}}
				<a href='{$file->url()}'>{$file->name}</a>
				<span class='ipsType_large ipsType_light ipsType_unbold ipsType_noBreak'>{lang="byline_nodate" htmlsprintf="$file->author()->link()"}</span>
			</h2>
			<ul class='ipsList_inline ipsSpacer_top ipsSpacer_half'>
				{{if $price = $file->price()}}
					<li>
						<span class='cFilePrice ipsType_large'>{$price|raw}</span>
					</li>
				{{endif}}
				{{if $file->container()->bitoptions['reviews']}}
					<li>
						{template="rating" group="global" location="front" app="core" params="'large', $file->rating, \IPS\Settings::i()->reviews_rating_out_of"}
					</li>
					<li class='ipsType_normal'>
						{{if $file->reviews}}
							<a href='{$file->url()->setQueryString( 'tab', 'reviews' )->setFragment('replies')}'>
						{{endif}}
						{lang="num_reviews" pluralize="$file->reviews"}
						{{if $file->reviews}}
							</a>
						{{endif}}
					</li>
				{{endif}}
				{{if $file->price() and in_array( 'purchases', explode( ',', settings.idm_nexus_display ) )}}
					<li class='ipsType_normal'>
						{{if $purchases = $file->purchaseCount()}}
							<i class='fa fa-shopping-cart'></i> {$purchases}
						{{else}}
							<span class='ipsType_light'><i class='fa fa-shopping-cart'></i> 0</span>
						{{endif}}
					</li>
				{{endif}}
				
				{{if !$file->price() or in_array( 'downloads', explode( ',', settings.idm_nexus_display ) )}}
					<li class='ipsType_normal'>
						{{if $file->downloads}}
							<i class='fa fa-arrow-circle-down'></i> {$file->downloads}
						{{else}}
							<span class='ipsType_light'><i class='fa fa-arrow-circle-down'></i> 0</span>
						{{endif}}
					</li>
				{{endif}}
				
				{{if $file->container()->bitoptions['comments']}}
					<li class='ipsType_normal'>
						{{if $file->comments}}
							<i class='fa fa-comment'></i> {$file->comments}
						{{else}}
							<span class='ipsType_light'><i class='fa fa-comment'></i> 0</span>
						{{endif}}
					</li>
				{{endif}}
			</ul>
			
			<div class='ipsType_richText ipsType_normal ipsSpacer_both' data-ipsTruncate data-ipsTruncate-type="remove" data-ipsTruncate-size="2 lines">
				{$file->truncated()|raw}
			</div>

			<ul class='ipsToolList ipsToolList_horizontal'>
				{{if ( $file->canDownload() or ( $file->container()->message('npd') and !$file->canBuy() ) ) && !$file->canBuy()}}
					<li class='ipsToolList_primaryAction ipsPos_left'>
						<a href='{{if settings.idm_antileech}}{$file->url('download')->csrf()}{{else}}{$file->url('download')}{{endif}}' class='ipsButton ipsButton_important ipsButton_fullWidth ipsButton_small' {{if $file->container()->message('disclaimer') or count( $file->files() ) > 1 or member.group['idm_wait_period']}}data-ipsDialog{{endif}}>{lang="download"}</a>
					</li>
				{{elseif $file->canBuy()}}
					<li class='ipsToolList_primaryAction ipsPos_left'>
						<a href='{$file->url('buy')->csrf()}' class='ipsButton ipsButton_small ipsButton_fullWidth ipsButton_important'><i class='fa fa-shopping-cart'></i> &nbsp;{lang="buy_now"} - {expression="strip_tags($price)"}</a>
					</li>
				{{endif}}
				<li class='ipsPos_left'>
					<a href='{$file->url()}' class='ipsButton ipsButton_light ipsButton_fullWidth ipsButton_small' title='{lang="view_this_file" sprintf="$file->name"}'>{lang="more_information"}</a>
				</li>
			</ul>								
		</div>
	</div>
</li>]]></template>
 <template template_group="browse" template_name="index" template_data="$featured, $new, $rated, $downloaded" template_location="front" template_app="downloads"><![CDATA[<div class="ipsPageHeader ipsClearfix ipsSpacer_bottom">
	<h1 class="ipsType_pageTitle">{lang="downloads"}</h1>
</div>
<a href='#elDownloadsCategories_menu' data-ipsMenu id='elDownloadsCategories' class='ipsButton ipsButton_light ipsButton_small ipsButton_fullWidth ipsResponsive_hideDesktop ipsResponsive_block ipsSpacer_bottom'><span class='ipsType_light'>{lang="downloads_category_select"}&nbsp;&nbsp;</span> {lang="all"} <i class='fa fa-caret-down'></i></a>
{template="categoryMenu" group="browse" params="\IPS\downloads\Category::roots()"}

{{if !empty( $featured )}}
	<div class='ipsBox ipsSpacer_bottom'>
		<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="featured_downloads"}</h2>
		<section id='elDownloadsFeatured'>
			<div class='ipsCarousel ipsClearfix' data-ipsCarousel data-ipsCarousel-fullSizeItems data-ipsCarousel-slideshow data-ipsCarousel-shadows='false'>
				<ul class='cDownloadsCarousel ipsClearfix' data-role="carouselItems">
					{{foreach $featured as $file}}
						{template="featuredFile" group="browse" app="downloads" params="$file"}
					{{endforeach}}
				</ul>
				<span class='ipsCarousel_shadow ipsCarousel_shadowLeft'></span>
				<span class='ipsCarousel_shadow ipsCarousel_shadowRight'></span>
				<a href='#' class='ipsCarousel_nav ipsHide' data-action='prev'><i class='fa fa-chevron-left'></i></a>
				<a href='#' class='ipsCarousel_nav ipsHide' data-action='next'><i class='fa fa-chevron-right'></i></a>
			</div>
		</section>
	</div>
{{endif}}

{{if \IPS\downloads\Category::canOnAny('add')}}
	<ul class="ipsToolList ipsToolList_horizontal ipsResponsive_hidePhone ipsClearfix ipsSpacer_bottom">
		{template="categoryButtons" group="browse" params="\IPS\downloads\Category::canOnAny('add')"}
	</ul>
{{endif}}
	
	<div class='ipsBox'>
		<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="browse_whats_new"}</h2>
		<div class='ipsAreaBackground ipsPad_half'>
			{{if count( $new )}}
				<div class='ipsCarousel ipsClearfix' data-ipsCarousel data-ipsCarousel-showDots>
					<ul class='cDownloadsCarousel' data-role="carouselItems">
						{{foreach $new as $idx => $file}}
							{template="indexBlock" group="browse" params="$file"}
						{{endforeach}}
					</ul>
					<span class='ipsCarousel_shadow ipsCarousel_shadowLeft'></span>
					<span class='ipsCarousel_shadow ipsCarousel_shadowRight'></span>
					<a href='#' class='ipsCarousel_nav ipsHide' data-action='prev'><i class='fa fa-chevron-left'></i></a>
					<a href='#' class='ipsCarousel_nav ipsHide' data-action='next'><i class='fa fa-chevron-right'></i></a>
				</div>
			{{else}}
				<p class='ipsType_reset ipsType_light ipsPad'>{lang="no_new_files"}</p>
			{{endif}}
		</div>
	</div>

	<div class='ipsBox ipsSpacer_top'>
		<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="browse_highest_rated"}</h2>
		<div class='ipsAreaBackground ipsPad_half'>
			{{if count( $rated )}}
				<div class='ipsCarousel ipsClearfix' data-ipsCarousel data-ipsCarousel-showDots>
					<ul class='cDownloadsCarousel' data-role="carouselItems">
						{{foreach $rated as $idx => $file}}
							{template="indexBlock" group="browse" params="$file"}
						{{endforeach}}
					</ul>
					<span class='ipsCarousel_shadow ipsCarousel_shadowLeft'></span>
					<span class='ipsCarousel_shadow ipsCarousel_shadowRight'></span>
					<a href='#' class='ipsCarousel_nav ipsHide' data-action='prev'><i class='fa fa-chevron-left'></i></a>
					<a href='#' class='ipsCarousel_nav ipsHide' data-action='next'><i class='fa fa-chevron-right'></i></a>
				</div>
			{{else}}
				<p class='ipsType_reset ipsType_light ipsPad'>{lang="no_rated_files"}</p>
			{{endif}}
		</div>
	</div>

	<div class='ipsBox ipsSpacer_top'>
		<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="browse_most_downloaded"}</h2>
		<div class='ipsAreaBackground ipsPad_half'>
			{{if count( $downloaded )}}
				<div class='ipsCarousel ipsClearfix' data-ipsCarousel data-ipsCarousel-showDots>
					<ul class='cDownloadsCarousel' data-role="carouselItems">
						{{foreach $downloaded as $idx => $file}}
							{template="indexBlock" group="browse" params="$file"}
						{{endforeach}}
					</ul>
					<span class='ipsCarousel_shadow ipsCarousel_shadowLeft'></span>
					<span class='ipsCarousel_shadow ipsCarousel_shadowRight'></span>
					<a href='#' class='ipsCarousel_nav ipsHide' data-action='prev'><i class='fa fa-chevron-left'></i></a>
					<a href='#' class='ipsCarousel_nav ipsHide' data-action='next'><i class='fa fa-chevron-right'></i></a>
				</div>
			{{else}}
				<p class='ipsType_reset ipsType_light ipsPad'>{lang="no_downloaded_files"}</p>
			{{endif}}
		</div>
	</div>

{{if \IPS\downloads\Category::canOnAny('add')}}
	<ul class="ipsToolList ipsToolList_horizontal ipsResponsive_showPhone ipsResponsive_block ipsClearfix ipsSpacer_top">
		{template="categoryButtons" group="browse" params="\IPS\downloads\Category::canOnAny('add')"}
	</ul>
{{endif}}]]></template>
 <template template_group="browse" template_name="indexBlock" template_data="$file" template_location="front" template_app="downloads"><![CDATA[<li class='ipsAreaBackground_reset ipsType_blendLinks ipsClearfix cDownloadsCarouselItem ipsPad_half ipsCarousel_item'>
	<a href='{$file->url()}' title='{lang="view_this" sprintf="$file->name"}'>
		{template="thumbImage" group="global" app="core" params="$file->primary_screenshot_thumb, $file->name"}
    </a>
		<div class='cDownloadsCarouselItem_info ipsSpacer_top ipsSpacer_half'>
			<h3 class='ipsType_normal ipsType_reset ipsTruncate ipsTruncate_line'>
				{{if $file->unread()}}
					<span class='ipsItemStatus ipsItemStatus_small' data-ipsTooltip title='{{if $file->unread() === -1}}{lang="new"}{{else}}{lang="updated"}{{endif}}'><i class="fa fa-circle"></i></span>&nbsp;
				{{endif}}
                <a href='{$file->url()}' title='{lang="view_this" sprintf="$file->name"}'>{$file->name}</a>
			</h3>
			
			<p class='ipsType_medium ipsType_reset ipsType_blendLinks ipsTruncate ipsTruncate_line'>{lang="byline_nodate" htmlsprintf="$file->author()->link()"}</p>
			{{if $file->container()->bitoptions['reviews']}}
				{template="rating" group="global" location="front" app="core" params="'medium', $file->rating, \IPS\Settings::i()->reviews_rating_out_of"}
			{{endif}}
			<p class='ipsType_medium ipsType_reset'>
				{{if $price = $file->price() and in_array( 'purchases', explode( ',', settings.idm_nexus_display ) )}}
					<span {{if !$file->purchaseCount()}}class='ipsType_light'{{endif}} title='{lang="idm_purchases"}' data-ipsTooltip><i class='fa fa-shopping-cart'></i> {$file->purchaseCount()}</span>&nbsp;&nbsp;
				{{endif}}
				{{if !$file->price() or in_array( 'downloads', explode( ',', settings.idm_nexus_display ) )}}
					<span {{if !$file->downloads}}class='ipsType_light'{{endif}} title='{lang="downloads"}' data-ipsTooltip><i class='fa fa-arrow-circle-down'></i> {$file->downloads}</span>&nbsp;&nbsp;
				{{endif}}
				 
				{{if $file->container()->bitoptions['comments']}}<span {{if !$file->comments}}class='ipsType_light'{{endif}} title='{lang="total_comments"}' data-ipsTooltip><i class='fa fa-comment'></i> {$file->comments}{{endif}}
			</p>
			
			{{if \IPS\Application::appIsEnabled( 'nexus' ) and settings.idm_nexus_on}}
				<span class="cFilePrice ipsType_medium">
					{{if $price = $file->price()}}
						{$price|raw}
					{{else}}
						{lang="file_free"}
					{{endif}}
				</span>
			{{endif}}
		</div>
</li>]]></template>
 <template template_group="browse" template_name="indexSidebar" template_data="$canSubmitFiles, $currentCategory=NULL" template_location="front" template_app="downloads">{template=&quot;categoriesSidebar&quot; group=&quot;browse&quot; params=&quot;$currentCategory&quot;}</template>
 <template template_group="browse" template_name="noFiles" template_data="$category" template_location="front" template_app="downloads"><![CDATA[
<div class='ipsType_center ipsPad'>
	<p class='ipsType_large'>{lang="no_files_in_cat"}</p>

	{{if $category->can('add')}}
		<a href='{url="app=downloads&module=downloads&controller=submit&_new=1&category={$category->id}" seoTemplate="downloads_submit"}' class='ipsButton ipsButton_primary ipsButton_medium' data-ipsDialog data-ipsDialog-title='{lang="submit_first_file"}' data-ipsDialog-size='narrow'>{lang="submit_first_file"}</a>
	{{endif}}
</div>]]></template>
 <template template_group="browse" template_name="rows" template_data="$table, $headers, $files" template_location="front" template_app="downloads"><![CDATA[{{if count( $files )}}
	{{foreach $files as $file}}
		<li class='ipsDataItem {{if $file->unread()}}ipsDataItem_unread{{endif}} {{if method_exists( $file, 'tableClass' ) && $file->tableClass()}}ipsDataItem_{$file->tableClass()}{{endif}} {{if $file->hidden()}}ipsModerated{{endif}}'>
			<div class='ipsDataItem_generic ipsDataItem_size3 ipsPos_top'>
				{template="thumbImage" group="global" app="core" params="$file->primary_screenshot_thumb, $file->name, 'medium', '', 'view_this', $file->url()"}
				{{if \IPS\Application::appIsEnabled( 'nexus' ) and settings.idm_nexus_on}}
					<p class='ipsType_large ipsType_center ipsType_reset ipsSpacer_top ipsSpacer_half'>
						<span class='cFilePrice'>
							{{if $price = $file->price()}}
								{$price|raw}
							{{else}}
								{lang="file_free"}
							{{endif}}
						</span>
					</p>
				{{endif}}
			</div>
			<div class='ipsDataItem_main'>
				<h4 class='ipsDataItem_title ipsType_sectionHead'>
					{{if $file->unread()}}
						<span class='ipsItemStatus ipsItemStatus_small' data-ipsTooltip title='{{if $file->unread() === -1}}{lang="new"}{{else}}{lang="updated"}{{endif}}'><i class="fa fa-circle"></i></span>&nbsp;
					{{endif}}
					
					{{if $file->mapped('pinned') || $file->mapped('featured') || $file->hidden() === -1 || $file->hidden() === 1}}
						{{if $file->hidden() === -1}}
							<span class="ipsBadge ipsBadge_small ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$file->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span>
						{{elseif $file->hidden() === 1}}
							<span class="ipsBadge ipsBadge_small ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
						{{endif}}
						{{if $file->mapped('pinned')}}
							<span class="ipsBadge ipsBadge_small ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
						{{endif}}
						{{if $file->mapped('featured')}}
							<span class="ipsBadge ipsBadge_small ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
						{{endif}}
					{{endif}}
					
					{{if $file->prefix()}}
						{template="prefix" group="global" app="core" params="$file->prefix( TRUE ), $file->prefix()"}
					{{endif}}
					
					<a href='{$file->url()}' title='{lang="view_this_file" sprintf="$file->name"}' {{if $file->canEdit()}}data-role="editableTitle"{{endif}}>{wordbreak="$file->name"}</a>
				</h4>
				<p class='ipsType_reset ipsType_light ipsType_blendLinks'>
					{lang="byline_nodate" htmlsprintf="$file->author()->link()"}
					{{if \IPS\Request::i()->app != 'downloads'}}
						{lang="in"} <a href="{$file->container()->url()}">{$file->container()->_title}</a>
					{{endif}}
				</p>
				<div class='ipsType_medium ipsType_richText ipsType_break ipsSpacer_top' data-ipsTruncate data-ipsTruncate-type="remove" data-ipsTruncate-size="2 lines">
					{$file->truncated()|raw}
				</div>

				<p class='ipsType_normal'>
					{{if $file->price() and in_array( 'purchases', explode( ',', settings.idm_nexus_display ) )}}
						<span {{if !$file->purchaseCount()}}class='ipsType_light'{{endif}}><i class='fa fa-shopping-cart'></i> {lang="x_purchases" pluralize="$file->purchaseCount()"}</span>&nbsp;&nbsp;
					{{endif}}
					{{if !$file->price() or in_array( 'downloads', explode( ',', settings.idm_nexus_display ) )}}
						<span {{if !$file->downloads}}class='ipsType_light'{{endif}}><i class='fa fa-arrow-circle-down'></i> {lang="num_downloads" pluralize="$file->downloads"}</span>
					{{endif}}
				</p>

				{{if count( $file->tags() )}}
					{template="tags" group="global" app="core" params="$file->tags()"}
				{{endif}}
			</div>
			<div class='ipsDataItem_generic ipsDataItem_size8'>
				{{if $file->container()->bitoptions['reviews']}}
					<ul class='ipsList_inline ipsClearfix ipsRating ipsRating_large'>
						{{foreach range( 1, 5 ) as $i}}
							<li class='{{if $file->rating >= $i}}ipsRating_on{{else}}ipsRating_off{{endif}}'>
								<i class='fa fa-star'></i>
							</li>
						{{endforeach}}
					</ul>
					&nbsp;&nbsp;
					<span class='ipsType_normal'>
						{{if $file->reviews}}
							<a href='{$file->url()->setQueryString( 'tab', 'reviews' )->setFragment('replies')}'>
						{{endif}}
						{lang="num_reviews" pluralize="$file->reviews"}
						{{if $file->reviews}}
							</a>
						{{endif}}
					</span>
				{{endif}}
				{{if $file->container()->bitoptions['comments']}}
					<p class='ipsType_normal'>
						{{if $file->comments}}
							<a href='{$file->url()->setQueryString( 'tab', 'comments' )->setFragment('replies')}'>
						{{endif}}
						<i class='fa fa-comment'></i> {lang="num_comments" pluralize="$file->comments"}
						{{if $file->comments}}
							</a>
						{{endif}}
					</p>
				{{endif}}
				<p class='ipsType_medium'><strong>{{if $file->updated == $file->submitted}}{lang="submitted"} {datetime="$file->submitted"}{{else}}{lang="updated"} {datetime="$file->updated"}{{endif}}</strong></p>
			</div>
			{{if method_exists( $table, 'canModerate' ) AND $table->canModerate()}}
				<div class='ipsDataItem_modCheck'>
					<span class='ipsCustomInput'>
						<input type='checkbox' data-role='moderation' name="moderate[{$file->id}]" data-actions="{expression="implode( ' ', $table->multimodActions( $file ) )"}" data-state='{{if $file->tableStates()}}{$file->tableStates()}{{endif}}'>
						<span></span>
					</span>
				</div>
			{{endif}}
		</li>
	{{endforeach}}
{{endif}}]]></template>
 <template template_group="dashboard" template_name="overview" template_data="$data" template_location="admin" template_app="downloads"><![CDATA[<ul class="ipsDataList">
	{{foreach $data as $k => $v}}
		<li class="ipsDataItem">
			<span class="ipsDataItem_generic ipsDataItem_size6">
				<strong>{lang="$k"}</strong>
			</span>
			<span class="ipsDataItem_generic">
				{{if in_array( $k, array( 'total_disk_spaced', 'total_bandwidth', 'current_month_bandwidth' ) )}}
					{filesize="$v"}
				{{elseif $k === 'largest_file'}}
					<a href='{$v->url()}' target='_blank'>{$v->name}</a> <span class="ipsType_light">({filesize="$v->filesize()"})</span>
				{{elseif $k === 'most_viewed_file'}}
					<a href='{$v->url()}' target='_blank'>{$v->name}</a> <span class="ipsType_light">({lang="num_views_with_number" pluralize="$v->views"})</span>
				{{elseif $k === 'most_downloaded_file'}}
					<a href='{$v->url()}' target='_blank'>{$v->name}</a> <span class="ipsType_light">({lang="num_downloads" pluralize="$v->downloads"})</span>
				{{else}}
					{$v}
				{{endif}}
			</span>
		</li>
	{{endforeach}}
</ul>
<div class="ipsPad_half ipsType_light">
	{lang="download_stats_disclaimer"}
</div>]]></template>
 <template template_group="global" template_name="commentTableHeader" template_data="$comment, $file" template_location="front" template_app="downloads"><![CDATA[
<div class='ipsDataList ipsAreaBackground_light ipsClearfix'>
	<div class='ipsDataItem'>
		<div class='ipsDataItem_generic ipsDataItem_size2'>
			{template="thumbImage" group="global" app="core" params="$file->primary_screenshot, $file->name, 'small', 'view_this', $file->url()"}
		</div>
		<div class='ipsDataItem_main'>
			<h3 class='ipsType_sectionHead'><a href='{$file->url()}' title='{lang="view_this_file" sprintf="$file->name"}'>{$file->mapped('title')}</a></h3>
			<p class='ipsType_normal ipsType_light ipsType_blendLinks ipsType_reset'>{lang="in"} <a href='{$file->container()->url()}'>{$file->container()->_title}</a></p>
			{{if $file->container()->bitoptions['reviews']}}
				{template="rating" group="global" location="front" app="core" params="'large', $file->rating, \IPS\Settings::i()->reviews_rating_out_of"} &nbsp;&nbsp;
			{{endif}}

			<span class='ipsType_reset'>{{if !$file->downloads}}<span class='ipsType_light'>{{endif}}<i class='fa fa-arrow-circle-down'></i> {$file->downloads}{{if !$file->downloads}}</span>{{endif}} {{if $file->container()->bitoptions['comments']}}&nbsp;&nbsp;{{if !$file->comments}}<span class='ipsType_light'>{{endif}}<i class='fa fa-comment'></i> {$file->comments}{{endif}}{{if !$file->comments}}</span>{{endif}}</span>
		</div>
	</div>
</div>]]></template>
 <template template_group="global" template_name="link" template_data="$file" template_location="global" template_app="downloads"><![CDATA[<a href="{$file->url()}" class="ipsType_blendLinks" target="_blank">{wordbreak="$file->name"}</a>]]></template>
 <template template_group="global" template_name="manageFollowRow" template_data="$table, $headers, $rows, $includeFirstCommentInCommentCount=TRUE" template_location="front" template_app="downloads"><![CDATA[{{if count( $rows )}}
	{{foreach $rows as $row}}
	{{$idField = $row::$databaseColumnId;}}
		<li class="ipsDataItem ipsDataItem_responsivePhoto {{if $row->unread()}}ipsDataItem_unread{{endif}} {{if method_exists( $row, 'tableClass' ) && $row->tableClass()}}ipsDataItem_{$row->tableClass()}{{endif}} {{if $row->hidden()}}ipsModerated{{endif}}" data-controller='core.front.system.manageFollowed' data-followID='{$row->_followData['follow_area']}-{$row->_followData['follow_rel_id']}'>
			<div class='ipsDataItem_generic ipsDataItem_size2'>
				<div class='ipsThumb ipsThumb_bg ipsThumb_small' style='background-image: url( {file="$row->primary_screenshot" extension="downloads_Screenshots"} )'></div>
			</div>
			<div class='ipsDataItem_main ipsPos_middle'>
				<h4 class='ipsDataItem_title ipsType_break ipsType_normal'>
					{{if $row->mapped('locked')}}
						<i class="fa fa-lock"></i>
					{{endif}}

					{{if $row->mapped('pinned') || $row->mapped('featured') || $row->hidden() === -1 || $row->hidden() === 1}}
						<span>
							{{if $row->hidden() === -1}}
								<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning" data-ipsTooltip title='{$row->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span>
							{{elseif $row->hidden() === 1}}
								<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
							{{endif}}							
							{{if $row->mapped('pinned')}}
								<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
							{{endif}}
							{{if $row->mapped('featured')}}
								<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
							{{endif}}
						</span>
					{{endif}}
					
					{{if $row->prefix()}}
						{template="prefix" group="global" app="core" params="$row->prefix( TRUE ), $row->prefix()"}
					{{endif}}
					
					<a href='{$row->url()}'>
						{{if $row->mapped('title')}}{wordbreak="$row->mapped('title')"}{{else}}<em class="ipsType_light">{lang="content_deleted"}</em>{{endif}}
					</a>
				</h4>
				<div class='ipsDataItem_meta ipsType_light ipsType_blendLinks' data-ipsTruncate data-ipsTruncate-size='2 lines' data-ipsTruncate-type='remove'>
					{{if method_exists( $row, 'tableDescription' )}}
						{$row->tableDescription()|raw}
					{{else}}
                        {lang="byline" htmlsprintf="$row->author()->link( $row->warningRef() )"}{datetime="$row->__get( $row::$databaseColumnMap['date'] )"}
						{lang="in"} <a href="{$row->container()->url()}">{$row->container()->_title}</a>
					{{endif}}
				</div>				
			</div>

			<div class='ipsDataItem_generic ipsDataItem_size1 ipsType_center ipsType_large'>
				<span class='ipsBadge ipsBadge_icon ipsBadge_new {{if !$row->_followData['follow_is_anon']}}ipsHide{{endif}}' data-role='followAnonymous' data-ipsTooltip title='{lang="follow_is_anon"}'><i class='fa fa-eye-slash'></i></span>
			</div>

			<div class='ipsDataItem_generic ipsDataItem_size6'>
				<ul class='ipsList_reset'>
					<li title='{lang="follow_when"}' data-role='followDate'><i class='fa fa-clock-o'></i> {datetime="$row->_followData['follow_added']"}</li>
					<li title='{lang="follow_how"}' data-role='followFrequency'>
						{{if $row->_followData['follow_notify_freq'] == 'none'}}
							<i class='fa fa-bell-slash-o'></i>
						{{else}}
							<i class='fa fa-bell'></i>
						{{endif}} {lang="follow_freq_{$row->_followData['follow_notify_freq']}"}
					</li>
				</ul>
			</div>

			<div class='ipsDataItem_generic ipsDataItem_size6 ipsType_center'>
				{template="manageFollow" group="system" app="core" params="$row->_followData['follow_app'], $row->_followData['follow_area'], $row->_followData['follow_rel_id']"}
			</div>

			{{if $table->canModerate()}}
				<div class='ipsDataItem_modCheck'>
					<span class='ipsCustomInput'>
						<input type='checkbox' data-role='moderation' name="moderate[{$row->$idField}]" data-actions="{expression="implode( ' ', $table->multimodActions( $row ) )"}" data-state='{{if $row->tableStates()}}{$row->tableStates()}{{endif}}'>
						<span></span>
					</span>
				</div>
			{{endif}}

		</li>
	{{endforeach}}
{{endif}}
]]></template>
 <template template_group="global" template_name="searchResultCommentSnippet" template_data="$indexData, $screenshot, $url, $reviewRating, $condensed" template_location="front" template_app="downloads"><![CDATA[
{{if $condensed}}
	{{if $screenshot}}
		<span class='ipsThumb_bg ipsThumb_small ipsPos_left' style='background-image: url("{file="$screenshot" extension="downloads_Screenshots"}")'>
			<img src='{file="$screenshot" extension="downloads_Screenshots"}' alt='' class="">
		</span>
	{{else}}
		<span class='ipsNoThumb ipsThumb_small ipsPos_left'></span>
	{{endif}}
{{else}}
	<div class='ipsColumns ipsColumns_collapsePhone ipsColumns_noSpacing'>
		<div class='ipsColumn ipsColumn_narrow'>
			<a href='{$url}'>
				{{if $screenshot}}
					<img src='{file="$screenshot" extension="downloads_Screenshots"}' class='ipsImage ipsStream_image'>
				{{else}}
					<div class='ipsNoThumb ipsNoThumb_file ipsThumb_medium'></div>
				{{endif}}
			</a>
		</div>
		<div class='ipsColumn ipsColumn_fluid'>
			<div class='ipsStream_comment ipsPad'>
				{{if $reviewRating !== NULL}}
					{template="rating" app="core" params="'medium', $reviewRating" group="global"}
				{{endif}}
				{{if trim( $indexData['index_content'] ) !== ''}}
					<div class='ipsType_richText ipsType_break ipsType_medium' {{if !( \IPS\Dispatcher::i()->application->directory == 'core' and \IPS\Dispatcher::i()->module and \IPS\Dispatcher::i()->module->key == 'search' )}}data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='3 lines'{{else}}data-searchable data-findTerm{{endif}}>
						{$indexData['index_content']|raw}
					</div>
				{{endif}}
			</div>
		</div>
	</div>
{{endif}}]]></template>
 <template template_group="global" template_name="searchResultFileSnippet" template_data="$indexData, $itemData, $screenshot, $url, $price, $condensed" template_location="front" template_app="downloads"><![CDATA[{{if $condensed}}
	{{if $screenshot}}
		<span class='ipsThumb_bg ipsThumb_small ipsPos_left' style='background-image: url("{file="$screenshot" extension="downloads_Screenshots"}")'>
			<img src='{file="$screenshot" extension="downloads_Screenshots"}' alt='' class="">
		</span>
	{{else}}
		<span class='ipsNoThumb ipsThumb_small ipsPos_left'></span>
	{{endif}}
{{else}}
	<div class='ipsColumns ipsColumns_collapsePhone'>
		<div class='ipsColumn ipsColumn_medium'>
			<a href='{$url}'>
				{{if $screenshot}}
					<img src='{file="$screenshot" extension="downloads_Screenshots"}' class='ipsImage ipsStream_image'>
				{{else}}
					<div class='ipsNoThumb ipsThumb_small'></div>
				{{endif}}
			</a>
		</div>
		<div class='ipsColumn ipsColumn_fluid ipsStream_snippetInfo'>
			<p class='ipsType_reset ipsType_light ipsType_normal'>{lang="version"} {$itemData['file_version']}</p>
			<p class='ipsType_reset ipsType_normal'><i class='fa fa-download'></i> {lang="num_downloads" pluralize="$itemData['file_downloads']"}</p>
			
			{{if trim( $indexData['index_content'] ) !== ''}}
				<div class='ipsSpacer_top ipsSpacer_half ipsType_richText ipsType_break ipsType_medium' {{if !( \IPS\Dispatcher::i()->application->directory == 'core' and \IPS\Dispatcher::i()->module and \IPS\Dispatcher::i()->module->key == 'search' )}}data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='2 lines'{{else}}data-searchable data-findTerm{{endif}}>
					{$indexData['index_content']|raw}
				</div>
			{{endif}}
			
			{{if \IPS\Application::appIsEnabled( 'nexus' ) and settings.idm_nexus_on}}
				<p class='ipsType_large ipsType_reset ipsSpacer_top ipsSpacer_half'>
					<span class='ipsStream_price'>
						{{if $price}}
							{$price|raw}
						{{else}}
							{lang="file_free"}
						{{endif}}
					</span>
				</p>
			{{endif}}
		</div>
	</div>
{{endif}}]]></template>
 <template template_group="livesearch" template_name="category" template_data="$category" template_location="admin" template_app="downloads"><![CDATA[<li class='ipsPad_half ipsClearfix' data-role='result'>
	<a href='{url="app=downloads&module=downloads&controller=categories&do=form&id="}{$category->id}' class='ipsPos_left'>{$category->_title}</a>
</li>

]]></template>
 <template template_group="nexus" template_name="chooseProduct" template_data="$products" template_location="front" template_app="downloads"><![CDATA[
<div class='ipsPad'>
	<br>
	<h2 class='ipsType_veryLarge ipsType_center ipsType_reset'>{lang="choose_file_nexus_title"}</h2>
	<p class='ipsType_large ipsType_center ipsType_light'>
		{lang="choose_file_nexus_blurb"}
	</p>
	<br>

	<section data-controller='nexus.front.store.register'>
		<div class='ipsBox ipsSpacer_bottom ipsPad_half'>
			<div class='ipsCarousel ipsClearfix' data-ipsCarousel data-ipsCarousel-showDots data-role='productCarousel'>
				<ul class='cNexusCarousel cNexusCategory_grid ipsClearfix' data-role="carouselItems">
					{{foreach $products as $package}}
						{template="packageBlock" app="nexus" group="store" params="$package, TRUE, TRUE, TRUE"}
					{{endforeach}}
				</ul>
				<span class='ipsCarousel_shadow ipsCarousel_shadowLeft'></span>
				<span class='ipsCarousel_shadow ipsCarousel_shadowRight'></span>
				<a href='#' class='ipsCarousel_nav ipsHide' data-action='prev'><i class='fa fa-chevron-left'></i></a>
				<a href='#' class='ipsCarousel_nav ipsHide' data-action='next'><i class='fa fa-chevron-right'></i></a>
			</div>
		</div>

		<div data-role='productInformationWrapper' class='ipsHide ipsAreaBackground_light ipsPad cNexusRegister_info'>
			<a href='#' class='cNexusRegister_close ipsHide' data-action='closeInfo'>&times;</a>
			<div data-role='productInformation'></div>
		</div>
	</section>
</div>]]></template>
 <template template_group="nexus" template_name="fileInfo" template_data="$file" template_location="admin" template_app="downloads"><![CDATA[
<div class='ipsAreaBackground_light ipsPad'>
	<div class='ipsDataItem'>
		<div class='ipsDataItem_generic ipsDataItem_size3 ipsPos_top'>
			{template="thumbImage" group="global" app="core" location="front" params="$file->primary_screenshot_thumb, $file->name, 'medium', '', 'view_this', $file->url()"}
		</div>
		<div class='ipsDataItem_main'>
			<h4 class='ipsDataItem_title ipsType_sectionHead'>
				{{if $file->prefix()}}
					{template="prefix" group="global" app="core" location="front" params="$file->prefix( TRUE ), $file->prefix()"}
				{{endif}}
				<a href='{$file->url()}' title='{lang="view_this_file" sprintf="$file->name"}'>{wordbreak="$file->name"}</a>
			</h4>
			<p class='ipsType_reset ipsType_light ipsType_blendLinks'>
				{lang="byline_nodate" htmlsprintf="$file->author()->link()"}
				{{if \IPS\Request::i()->app != 'downloads'}}
					{lang="in"} <a href="{$file->container()->url()}">{$file->container()->_title}</a>
				{{endif}}
			</p>
			<div class='ipsType_medium ipsType_richText ipsType_break ipsSpacer_top' data-ipsTruncate data-ipsTruncate-type="remove" data-ipsTruncate-size="2 lines">
				{$file->truncated()|raw}
			</div>
		</div>
		<div class='ipsDataItem_generic ipsDataItem_size8'>
			{{if $file->container()->bitoptions['reviews']}}
				<ul class='ipsList_inline ipsClearfix ipsRating ipsRating_large'>
					{{foreach range( 1, 5 ) as $i}}
						<li class='{{if $file->rating >= $i}}ipsRating_on{{else}}ipsRating_off{{endif}}'>
							<i class='fa fa-star'></i>
						</li>
					{{endforeach}}
				</ul>
				&nbsp;&nbsp;
				<span class='ipsType_normal'>
					{{if $file->reviews}}
						<a href='{$file->url()->setQueryString( 'tab', 'reviews' )->setFragment('replies')}'>
					{{endif}}
					{lang="num_reviews" pluralize="$file->reviews"}
					{{if $file->reviews}}
						</a>
					{{endif}}
				</span>
			{{endif}}
			{{if $file->container()->bitoptions['comments']}}
				<p class='ipsType_normal'>
					{{if $file->comments}}
						<a href='{$file->url()->setQueryString( 'tab', 'comments' )->setFragment('replies')}'>
					{{endif}}
					<i class='fa fa-comment'></i> {lang="num_comments" pluralize="$file->comments"}
					{{if $file->comments}}
						</a>
					{{endif}}
				</p>
			{{endif}}
			<p class='ipsType_medium'><strong>{{if $file->updated == $file->submitted}}{lang="submitted"} {datetime="$file->submitted"}{{else}}{lang="updated"} {datetime="$file->updated"}{{endif}}</strong></p>
		</div>
	</div>
</div>]]></template>
 <template template_group="nexus" template_name="fileInfo" template_data="$file" template_location="front" template_app="downloads"></template>
 <template template_group="nexus" template_name="filePurchaseInfo" template_data="$file" template_location="front" template_app="downloads"><![CDATA[<a href='{{if settings.idm_antileech}}{$file->url('download')->csrf()}{{else}}{$file->url('download')}{{endif}}' class='ipsButton ipsButton_medium ipsButton_primary' {{if $file->container()->message('disclaimer') or count( $file->files() ) > 1 or member.group['idm_wait_period']}}data-ipsDialog{{endif}}>{lang="download_now"}</a>]]></template>
 <template template_group="stats" template_name="downloadsTable" template_data="$select, $pagination, $members" template_location="admin" template_app="downloads"><![CDATA[
{{if trim( $pagination )}}
	{$pagination|raw}
	<br><br>
{{endif}}
{{if count( $select )}}
	<table class="ipsTable ipsTable_zebra">
		<thead>
			<tr>
				<th>{lang="member"}</th>
				<th>{lang="downloads"}</th>
			</tr>
		</thead>
		<tbody>
			{{foreach $select as $row}}
				{{$member = \IPS\Member::constructFromData( $members[ $row['dmid'] ] );}}
				<tr>
					<td>{template="userPhoto" app="core" group="global" params="$member"} {$member->name}</td>
					<td><a href='{url="app=downloads&module=stats&controller=member&do=downloads&id={$member->member_id}&tab=downloads&&type%5Bd74394%5D=Table"}'>{$row['downloads']}</a></td>
				</tr>
			{{endforeach}}
		</tbody>
	</table>
	<br>

	{$pagination|raw}
{{else}}
	<p class="ipsPad">{lang="no_results"}</p>
{{endif}}]]></template>
 <template template_group="stats" template_name="graphs" template_data="$graph" template_location="admin" template_app="downloads"><![CDATA[{$graph|raw}
<div class="ipsPad_half ipsAreaBackground">
	{lang="download_graph_disclaimer"}
</div>]]></template>
 <template template_group="stats" template_name="information" template_data="$table" template_location="admin" template_app="downloads"><![CDATA[{$table|raw}
<br>
<div class="ipsPad_half ipsType_light">
	{lang="download_stats_disclaimer"}
</div>]]></template>
 <template template_group="stats" template_name="submittersTable" template_data="$select, $pagination, $members" template_location="admin" template_app="downloads"><![CDATA[
{{if trim( $pagination )}}
	{$pagination|raw}
	<br><br>
{{endif}}
{{if count( $select )}}
	<table class="ipsTable ipsTable_zebra">
		<thead>
			<tr>
				<th>{lang="member"}</th>
				<th>{lang="files"}</th>
			</tr>
		</thead>
		<tbody>
			{{foreach $select as $row}}
				{{$member = \IPS\Member::constructFromData( $members[ $row['file_submitter'] ] );}}
				<tr>
					<td>{template="userPhoto" app="core" group="global" params="$member"} {$member->link()|raw}</td>
					<td><a href='{$member->url()->setQueryString( array( 'do' => 'content', 'type' => 'downloads_file' ) )}' target='_blank'>{$row['files']}</a></td>
				</tr>
			{{endforeach}}
		</tbody>
	</table>
	<br>

	{$pagination|raw}
{{else}}
	<p class="ipsPad">{lang="no_results"}</p>
{{endif}}]]></template>
 <template template_group="submit" template_name="bulkForm" template_data="$form, $category" template_location="front" template_app="downloads"><![CDATA[
{template="pageHeader" group="global" app="core" params="\IPS\Member::loggedIn()->language()->addToStack('submit_bulk_information')"}
<hr class='ipsHr'>

{{if $form->error}}
	<div class="ipsMessage ipsMessage_error">
		{$form->error}
	</div>
	<br>
{{endif}}


<form accept-charset='utf-8' method="post" action="{$form->action}" enctype="multipart/form-data" id='elDownloadsSubmit' data-ipsForm>
	<input type="hidden" name="{$form->id}_submitted" value="1">
	{{foreach $form->hiddenValues as $k => $v}}
		<input type="hidden" name="{$k}" value="{$v}">
	{{endforeach}}

	{{foreach $form->elements as $fileName => $collection}}
		<h2 class='ipsType_sectionTitle ipsType_reset'>{$fileName}</h2>
		<div class='ipsAreaBackground ipsPad_half'>
			<div class='ipsAreaBackground_reset ipsPad'>
				<ul class='ipsForm ipsForm_vertical'>
					{{foreach $collection as $input}}
						{{if $input instanceof \IPS\Helpers\Form\FormAbstract}}
							{$input|raw}
						{{endif}}
					{{endforeach}}
				</ul>
			</div>
		</div>
		<br><hr class='ipsHr'><br>
	{{endforeach}}

	<div class='ipsType_right'>
		<button type='submit' class='ipsButton ipsButton_large ipsButton_primary' data-role='submitForm'>{lang="save_and_submit_files"}</button>
	</div>
</form>]]></template>
 <template template_group="submit" template_name="categorySelector" template_data="$form" template_location="front" template_app="downloads"><![CDATA[
{{if !\IPS\Request::i()->isAjax()}}
	{template="pageHeader" group="global" app="core" params="\IPS\Member::loggedIn()->language()->addToStack('select_category')"}
{{else}}
	<div class='ipsPad'>
{{endif}}
	{$form|raw}
{{if \IPS\Request::i()->isAjax()}}
	</div>
{{endif}}]]></template>
 <template template_group="submit" template_name="editDetailsInfo" template_data="$file" template_location="front" template_app="downloads"><![CDATA[<div class='ipsMessage ipsMessage_info'><a href='{$file->url()->setQueryString( array( 'do' => 'newVersion' ) )}' title='{lang="upload_new_version_title"}'>{lang="file_versioning_info_text"}</a></div>]]></template>
 <template template_group="submit" template_name="linkedScreenshotField" template_data="$name, $value" template_location="front" template_app="downloads"><![CDATA[<div data-controller="downloads.front.submit.linkedScreenshots" data-name='{$name}' data-initialValue='{expression="json_encode( $value )"}'>
	<ul data-role="fieldsArea" class="ipsList_reset"></ul>
	<a class="ipsButton ipsButton_light ipsButton_small" data-action="addField"><i class="fa fa-plus-circle"></i> {lang="stack_add"}</a>
</div>]]></template>
 <template template_group="submit" template_name="newVersion" template_data="$form, $versioning" template_location="front" template_app="downloads"><![CDATA[<div class='ipsPageHeader ipsSpacer_bottom'>
	<h1 class='ipsType_pageTitle'>{lang="upload_new_version"}</h1>
</div>
{{if $versioning and !member.group['idm_bypass_revision']}}
	<div class='ipsLayout_contentSection ipsType_textBlock ipsType_normal'>
		{lang="new_version_versioning"}
	</div>
	<br>
{{endif}}
{$form|raw}]]></template>
 <template template_group="submit" template_name="submitForm" template_data="$form, $category, $terms, $bulk=0" template_location="front" template_app="downloads"><![CDATA[
{{$nonInfoFields = array('files', 'import_files', 'url_files', 'screenshots', 'url_screenshots');}}
{{$step = 1;}}

{{if $bulk}}
	{template="pageHeader" group="global" app="core" params="\IPS\Member::loggedIn()->language()->addToStack( 'submit_form_desc_bulk', TRUE, array( 'sprintf' => $category->_title ) )"}
{{else}}
	{template="pageHeader" group="global" app="core" params="\IPS\Member::loggedIn()->language()->addToStack( 'submit_form_desc', TRUE, array( 'sprintf' => $category->_title ) )"}
{{endif}}
<hr class='ipsHr'>

{{if $form->error}}
	<div class="ipsMessage ipsMessage_error">
		{$form->error}
	</div>
	<br>
{{endif}}


<form accept-charset='utf-8' method="post" action="{$form->action}" id='elDownloadsSubmit' enctype="multipart/form-data" {{if $category->bitoptions['allowss'] AND $category->bitoptions['reqss']}}data-screenshotsReq='1'{{endif}} {{if $bulk}}data-bulkUpload='1'{{endif}} data-ipsForm data-controller='downloads.front.submit.main'>
	<input type="hidden" name="{$form->id}_submitted" value="1">
	{{foreach $form->hiddenValues as $k => $v}}
		<input type="hidden" name="{$k}" value="{$v}">
	{{endforeach}}

	<div class='ipsColumns ipsColumns_collapsePhone'>
		<div class='ipsColumn ipsColumn_veryNarrow ipsType_center'>
			<span class='cDownloadsSubmit_step'>{$step}{{$step++;}}</span>
		</div>
		<div class='ipsColumn ipsColumn_fluid'>
			<div class='ipsBox'>
				<h3 class='ipsType_sectionTitle ipsType_reset'>{lang="select_your_files"}</h3>
				<div class='ipsAreaBackground ipsPad ipsClearfix'>
					{{if isset( $form->elements['']['import_files'] ) || isset( $form->elements['']['url_files'] )}}
						<ul class='ipsList_inline ipsClearfix ipsType_right'>
							{{if isset( $form->elements['']['url_files'] )}}
								<li>
									<a href='#' class='ipsButton ipsButton_veryLight ipsButton_verySmall' id='elURLFiles' data-ipsMenu data-ipsMenu-closeOnClick='false' data-ipsMenu-appendTo='#elDownloadsSubmit'>
										<i class='fa fa-globe'></i>&nbsp; {lang="add_files_by_url"} <i class='fa fa-caret-down'></i>
										<span class='ipsNotificationCount {{if !count( $form->elements['']['url_files']->value )}}ipsHide{{endif}}' data-role='fileCount'>{expression="count( $form->elements['']['url_files']->value )"}</span>
									</a>
									<div id='elURLFiles_menu' class='ipsMenu ipsMenu_normal ipsHide ipsPad'>
										<ul class='ipsFieldRow_fullWidth'>
											{$form->elements['']['url_files']|raw}
										</ul>
										<hr class='ipsHr'>
										<a href='#' class='ipsButton ipsButton_fullWidth ipsButton_important' data-action='confirmUrls'>{lang="submit_menu_confirm"}</a>
									</div>
								</li>
							{{endif}}
							{{if isset( $form->elements['']['import_files'] )}}
								<li>
									<a href='#' class='ipsButton ipsButton_veryLight ipsButton_verySmall' id='elImportFiles' data-ipsMenu data-ipsMenu-closeOnClick='false' data-ipsMenu-appendTo='#elDownloadsSubmit'>
										<i class='fa fa-folder'></i>&nbsp; {lang="add_files_by_path"} <i class='fa fa-caret-down'></i>
										<span class='ipsNotificationCount {{if !count( $form->elements['']['import_files']->value )}}ipsHide{{endif}}' data-role='fileCount'>{expression="count( $form->elements['']['import_files']->value )"}</span>
									</a>
									<div id='elImportFiles_menu' class='ipsMenu ipsMenu_normal ipsHide ipsPad'>
										<ul class='ipsFieldRow_fullWidth'>
											{$form->elements['']['import_files']|raw}
										</ul>
										<hr class='ipsHr'>
										<a href='#' class='ipsButton ipsButton_fullWidth ipsButton_important' data-action='confirmImports'>{lang="submit_menu_confirm"}</a>
									</div>
								</li>
							{{endif}}
						</ul>
					{{endif}}
					<div id='elDownloadsSubmit_progress' class='ipsClear' data-ipsSticky>
						<div class='ipsProgressBar ipsProgressBar_animated ipsClear' >
							<div class='ipsProgressBar_progress' data-progress='0%'></div>
						</div>
					</div>
					<div id='elDownloadsSubmit_uploader' class='ipsClear'>
						{$form->elements['']['files']->html( $form )|raw}
						<button type='button' class='ipsButton ipsButton_veryLight ipsButton_verySmall ipsHide' data-action='uploadMore'>{lang="upload_more_files"}</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	{{if !$bulk }}
		{{if $category->bitoptions['allowss'] }}
			<div id='elDownloadsSubmit_screenshots'>
				<br><br>
				<div class='ipsColumns ipsColumns_collapsePhone'>
					<div class='ipsColumn ipsColumn_veryNarrow ipsType_center'>
						<span class='cDownloadsSubmit_step'>{$step}{{$step++;}}</span>
					</div>
					<div class='ipsColumn ipsColumn_fluid'>
						<div class='ipsBox'>
							<h3 class='ipsType_sectionTitle ipsType_reset'>{lang="add_screenshots"}</h3>
							<div class='ipsAreaBackground ipsPad_half'>
								{{if isset( $form->elements['']['url_screenshots'] )}}
									<ul class='ipsList_inline ipsClearfix ipsType_right'>
										<li>
											<a href='#' class='ipsButton ipsButton_veryLight ipsButton_verySmall' id='elURLScreenshots' data-ipsMenu data-ipsMenu-closeOnClick='false' data-ipsMenu-appendTo='#elDownloadsSubmit_screenshots'>
												<i class='fa fa-globe'></i>&nbsp; {lang="add_screenshots_by_url"} <i class='fa fa-caret-down'></i>
												<span class='ipsNotificationCount {{if !count( $form->elements['']['url_screenshots']->value )}}ipsHide{{endif}}' data-role='fileCount'>{expression="count( $form->elements['']['url_screenshots']->value )"}</span>
											</a>
											<div id='elURLScreenshots_menu' class='ipsMenu ipsMenu_wide ipsHide ipsPad'>
												<ul class='ipsFieldRow_fullWidth'>
													{$form->elements['']['url_screenshots']|raw}
												</ul>
												<hr class='ipsHr'>
												<a href='#' class='ipsButton ipsButton_fullWidth ipsButton_important' data-action='confirmScreenshotUrls'>{lang="submit_menu_confirm"}</a>
											</div>
										</li>
									</ul>
								{{endif}}
								{{if isset( $form->elements['']['screenshots'] )}}
								<div id='elDownloadsSubmit_screenshots'>
									{$form->elements['']['screenshots']->html( $form )|raw}
								</div>
								{{endif}}
							</div>
						</div>
					</div>
				</div>
			</div>
		{{endif}}

		<div id='elDownloadsSubmit_otherinfo'>
			<br><br>
			<div class='ipsColumns ipsColumns_collapsePhone'>
				<div class='ipsColumn ipsColumn_veryNarrow ipsType_center'>
					<span class='cDownloadsSubmit_step'>{$step}{{$step++;}}</span>
				</div>
				<div class='ipsColumn ipsColumn_fluid'>
					<div class='ipsBox'>
						<h3 class='ipsType_sectionTitle ipsType_reset'>{lang="submit_file_information"}</h3>
						<div class='ipsPad'>
							<ul class='ipsForm ipsForm_vertical'>
								{{foreach $form->elements as $collection}}
									{{foreach $collection as $fieldName => $input}}
										{{if !in_array( $fieldName, $nonInfoFields )}}
											{$input|raw}
										{{endif}}
									{{endforeach}}
								{{endforeach}}
							</ul>
						</div>
					</div>
				</div>
			</div>

			{{if $terms}}
				<br><br>
				<div class='ipsColumns ipsColumns_collapsePhone'>
					<div class='ipsColumn ipsColumn_veryNarrow ipsType_center'>
						<span class='cDownloadsSubmit_step'>{$step}{{$step++;}}</span>
					</div>
					<div class='ipsColumn ipsColumn_fluid'>
						<div class='ipsBox ipsPad'>
							<h3 class='ipsType_sectionHead'>{lang="csubmissionterms_placeholder"}</h3>
							<br><br>
							<div class='ipsType_richText'>
								{$terms|raw}
							</div>
						</div>
					</div>
				</div>
			{{endif}}
		</div>
	{{elseif $terms}}
		<br>
		<div class='ipsColumns ipsColumns_collapsePhone'>
			<div class='ipsColumn ipsColumn_veryNarrow ipsType_center'>
				<span class='cDownloadsSubmit_step'>{$step}{{$step++;}}</span>
			</div>
			<div class='ipsColumn ipsColumn_fluid'>
				<div class='ipsBox ipsPad'>
					<h3 class='ipsType_sectionHead'>{lang="csubmissionterms_placeholder"}</h3>
					<br><br>
					<div class='ipsType_richText'>
						{$terms|raw}
					</div>
				</div>
			</div>
		</div>
	{{endif}}

	<hr class='ipsHr'>
	<div class='ipsType_right'>
		<button type='submit' class='ipsButton ipsButton_large ipsButton_primary' data-role='submitForm'>{{if $bulk}}{lang="continue"}{{else}}{lang="save_and_submit_files"}{{endif}}</button>
	</div>
</form>]]></template>
 <template template_group="submit" template_name="topic" template_data="$file" template_location="front" template_app="downloads"><![CDATA[<div class='ipsAreaBackground_light ipsPad'>
{{if $file->container()->bitoptions['topic_screenshot'] and $file->primary_screenshot}}
	<div class='ipsColumns ipsColumns_collapsePhone'>
		<div class='ipsColumn ipsColumn_medium ipsType_center'>
			<a href="{$file->url()}">
				<img src="<fileStore.downloads_Screenshots>/{$file->primary_screenshot}" alt="{$file->name}">
			</a>
			<br><br>
			<a href="{$file->url()}" class='ipsButton ipsButton_primary ipsButton_fullWidth ipsButton_small'>
				{lang="view_file"}
			</a>
		</div>
		<div class='ipsColumn_fluid'>
{{endif}}
			<h3 class='ipsType_sectionHead'>{$file->name}</h3>
			{{if !$file->container()->bitoptions['topic_screenshot'] or !$file->primary_screenshot}}
				<a href="{$file->url()}" class='ipsButton ipsButton_primary ipsButton_fullWidth ipsButton_small'>
					{lang="view_file"}
				</a>
			{{endif}}
			<hr class='ipsHr'>
			<div class='ipsType_normal ipsType_richText ipsContained ipsType_break'>
				{$file->desc|raw}
			</div>
			<hr class='ipsHr'>
			<ul class='ipsDataList ipsDataList_reducedSpacing ipsDataList_collapsePhone'>
				<li class='ipsDataItem'>
					<div class='ipsDataItem_generic ipsDataItem_size5'>
						<strong>{lang="file_submitter"}</strong>
					</div>
					<div class='ipsDataItem_main'>
						{$file->author()->link()|raw}
					</div>
				</li>
				<li class='ipsDataItem'>
					<div class='ipsDataItem_generic ipsDataItem_size5'>
						<strong>{lang="file_submitted"}</strong>
					</div>
					<div class='ipsDataItem_main'>
						{expression="\IPS\DateTime::ts( $file->submitted )->localeDate()"}
					</div>
				</li>
				<li class='ipsDataItem'>
					<div class='ipsDataItem_generic ipsDataItem_size5'>
						<strong>{lang="file_cat"}</strong>
					</div>
					<div class='ipsDataItem_main'>
						<a href="{$file->container()->url()}">{$file->container()->_title}</a>
					</div>
				</li>
				{{foreach $file->customFields( TRUE ) as $k => $v}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_generic ipsDataItem_size5'>
							<strong>{lang="downloads_{$k}"}</strong>
						</div>
						<div class='ipsDataItem_main'>
							{$v|raw}
						</div>
					</li>
				{{endforeach}}
			</ul>
{{if $file->container()->bitoptions['topic_screenshot'] and $file->primary_screenshot}}
		</div>
	</div>
{{endif}}
</div>]]></template>
 <template template_group="submit" template_name="wizardForm" template_data="$stepNames, $activeStep, $output, $baseUrl, $showSteps" template_location="front" template_app="downloads"><![CDATA[
{{foreach $stepNames as $step => $name}}
	{{if $activeStep == $name}}
		{$output|raw}
	{{endif}}
{{endforeach}}]]></template>
 <template template_group="view" template_name="changeLog" template_data="$file, $version" template_location="front" template_app="downloads"><![CDATA[<p class='ipsType_reset ipsType_light'>{lang="file_version_released" htmlsprintf="\IPS\DateTime::ts( $version['b_backup'] )->html()"}</p>
<div class='ipsType_richText ipsType_normal'>
	{{if $version['b_changelog']}}
		{$version['b_changelog']|raw}
	{{else}}
		<p><em>{lang="file_no_changelog"}</em></p>
	{{endif}}
</div>
{{if isset( $version['b_id'] ) and ( $file->canDownload() or ( $file->canEdit() and member.group['idm_bypass_revision'] ) )}}
	<ul class='ipsList_inline'>
		<li><img src='{resource="subitem_stem.png" app="core"}' alt=''> <strong>{lang="with_version" sprintf="$version['b_version']"}</strong></li>
		{{if $file->canDownload()}}
			<li><a href='{$file->url()->setQueryString( array( 'do' => 'download', 'version' => $version['b_id'] ) )->csrf()}' {{if $file->container()->message('disclaimer') or count( $file->files( $version['b_id'] ) ) > 1}}data-ipsDialog{{endif}}>{lang="download"}</a></li>
		{{endif}}
		{{if $file->canEdit() and member.group['idm_bypass_revision']}}
			<li><a href="{$file->url()->setQueryString( array( 'do' => 'restorePreviousVersion', 'version' => $version['b_id'] ) )->csrf()}" data-confirm data-confirmMessage="{lang="version_restore_confirm" sprintf="$version['b_version']"}" data-confirmSubMessage="{lang="version_restore_confirm_desc" sprintf="$version['b_version']"}">{lang="restore"}</a></li>
			<li><a href='{$file->url()->setQueryString( array( 'do' => 'deletePreviousVersion', 'version' => $version['b_id'] ) )->csrf()}' data-confirm data-confirmMessage="{lang="version_delete_confirm" sprintf="$version['b_version']"}">{lang="delete"}</a></li>
			<li>
				<a href='{$file->url()->setQueryString( array( 'do' => 'previousVersionVisibility', 'version' => $version['b_id'] ) )->csrf()}'>
					{{if $version['b_hidden']}}
						{lang="unhide_from_members"}
					{{else}}
						{lang="hide_from_members"}
					{{endif}}
				</a>
			</li>
		{{endif}}
	</ul>
{{endif}}]]></template>
 <template template_group="view" template_name="commentForm" template_data="$id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class=''" template_location="front" template_app="downloads"><![CDATA[<form accept-charset='utf-8' class="ipsForm" action="{$action}" method="post" {{if $uploadField}}enctype="multipart/form-data"{{endif}}>
	<input type="hidden" name="{$id}_submitted" value="1">
	{{foreach $hiddenValues as $k => $v}}
		<input type="hidden" name="{$k}" value="{$v}">
	{{endforeach}}
	{{if $uploadField}}
		<input type="hidden" name="MAX_FILE_SIZE" value="{$uploadField}">
		<input type="hidden" name="plupload" value="{expression="md5( uniqid() )"}">
	{{endif}}
	<div class='ipsAreaBackground_light ipsPad'>
		<h2 class='ipsType_sectionHead'>{lang="write_review"}</h2>
		<ul class='ipsForm ipsForm_vertical'>
			{{foreach $elements as $collection}}
				{{foreach $collection as $input}}
					{$input|raw}
				{{endforeach}}
			{{endforeach}}
			<li class='ipsFieldRow ipsClearfix'>
				<div class='ipsFieldRow_content'>
					<button type='submit' class='ipsButton ipsButton_primary'>{lang="add_review"}</button>
				</div>
			</li>
		</ul>
	</div>
</form>]]></template>
 <template template_group="view" template_name="comments" template_data="$file" template_location="front" template_app="downloads"><![CDATA[
<div data-controller='core.front.core.commentFeed' {{if settings.auto_polling_enabled}}data-autoPoll{{endif}} data-commentsType='comments' data-baseURL='{$file->url()}' {{if $file->isLastPage()}}data-lastPage{{endif}} data-feedID='file-{$file->id}' id='comments'>
	{{if $file->commentPageCount() > 1}}
		{$file->commentPagination( array( 'tab' ) )|raw}
		<br><br>
	{{endif}}
	<div data-role='commentFeed' data-controller='core.front.core.moderation'>
		{{if count( $file->comments() )}}
			<form action="{$file->url()->csrf()->setQueryString( 'do', 'multimodComment' )}" method="post" data-ipsPageAction data-role='moderationTools'>
				{{$commentCount=0; $timeLastRead = $file->timeLastRead(); $lined = FALSE;}}
				{{foreach $file->comments() as $comment}}
					{{if !$lined and $timeLastRead and $timeLastRead->getTimestamp() < $comment->mapped('date')}}
						{{if $lined = TRUE and $commentCount}}
							<hr class="ipsCommentUnreadSeperator">
						{{endif}}
					{{endif}}
					{{$commentCount++;}}
					{$comment->html()|raw}
				{{endforeach}}
				{template="commentMultimod" app="core" group="global" params="$file"}
			</form>
		{{else}}
			<p class='ipsType_normal ipsType_light ipsType_reset' data-role='noComments'>{lang="no_comments"}</p>
		{{endif}}
	</div>
	{{if $file->commentPageCount() > 1}}
		<hr class='ipsHr'>
		{$file->commentPagination( array( 'tab' ) )|raw}
	{{endif}}
	{{if $file->commentForm() || $file->locked() || \IPS\Member::loggedin()->restrict_post || \IPS\Member::loggedIn()->members_bitoptions['unacknowledged_warnings']}}
		<div class='ipsAreaBackground ipsPad ipsSpacer_top' data-role='replyArea'>
			{{if $file->commentForm()}}
				{{if $file->locked()}}
					<p class='ipsType_reset ipsType_warning ipsComposeArea_warning ipsSpacer_bottom ipsSpacer_half'><i class='fa fa-info-circle'></i> {lang="file_locked_can_comment"}</p>
				{{endif}}
				{$file->commentForm()|raw}
			{{else}}
				{{if $file->locked()}}
					{template="commentUnavailable" group="forms" location="front" app="core" params="'file_locked_cannot_comment'"}
				{{elseif \IPS\Member::loggedin()->restrict_post}}
					{template="commentUnavailable" group="forms" location="front" app="core" params="'restricted_cannot_comment', \IPS\Member::loggedIn()->warnings(5,NULL,'rpa'), \IPS\Member::loggedIn()->restrict_post"}
				{{elseif \IPS\Member::loggedIn()->members_bitoptions['unacknowledged_warnings']}}
					{template="commentUnavailable" group="forms" location="front" app="core" params="'unacknowledged_warning_cannot_post', \IPS\Member::loggedIn()->warnings( 1, FALSE )"}
				{{endif}}
			{{endif}}
		</div>
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="download" template_data="$file, $terms = NULL, $download = NULL, $confirmUrl, $multipleFiles, $waitingOn=NULL, $waitingFor=0" template_location="front" template_app="downloads"><![CDATA[<div data-controller='downloads.front.view.download'>
	{{if $terms}}
		{template="downloadTerms" group="view" app="downloads" params="$file, $terms, $confirmUrl, $multipleFiles"}
	{{else}}
		{template="multipleFiles" group="view" app="downloads" params="$file, $download, $waitingOn, $waitingFor"}
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="downloadButton" template_data="$file" template_location="front" template_app="downloads"><![CDATA[
<li>
	<a href='{{if settings.idm_antileech}}{$file->url('download')->csrf()}{{else}}{$file->url('download')}{{endif}}' class='ipsButton ipsButton_fullWidth ipsButton_large ipsButton_important' {{if $file->container()->message('disclaimer') or count( $file->files() ) > 1 or member.group['idm_wait_period']}}data-ipsDialog{{endif}}>{lang="download_now"}</a>
</li>
]]></template>
 <template template_group="view" template_name="downloadSidebar" template_data="$file" template_location="front" template_app="downloads"></template>
 <template template_group="view" template_name="downloadTerms" template_data="$file, $downloadTerms, $confirmUrl, $multipleFiles" template_location="front" template_app="downloads"><![CDATA[<div class='ipsPad'>
	<h1 class='ipsType_pageTitle'>{lang="download_terms"}</h1>
	<strong>{lang="download_terms_desc"}</strong>

	<hr class='ipsHr'>

	<div class='ipsType_richText ipsType_medium'>
		{$downloadTerms|raw}
	</div>
</div>
<div class='ipsAreaBackground ipsType_right ipsPad'>
	<ul class='ipsList_inline'>
		<li><a href='{$file->url()}' class='ipsButton ipsButton_link ipsButton_medium' data-action='dialogClose' title='{lang="cancel_downloading"}'>{lang="cancel"}</a></li>
		<li><a href='{$confirmUrl}' class='ipsButton ipsButton_primary ipsButton_medium' data-action='{{if $multipleFiles or member.group['idm_wait_period']}}selectFile{{else}}download{{endif}}' title='{lang="agree_and_download_full"}'>{lang="agree_and_download"}</a></li>
	</ul>
</div>]]></template>
 <template template_group="view" template_name="log" template_data="$file, $table" template_location="front" template_app="downloads"><![CDATA[{{if $file->container()->log}}
	<div class='ipsPad_half'><div class='ipsMessage ipsMessage_info'>{lang="log_days" pluralize="$file->container()->log"}</div></div>
{{endif}}
{$table|raw}]]></template>
 <template template_group="view" template_name="logRows" template_data="$table, $headers, $rows" template_location="front" template_app="downloads"><![CDATA[{{foreach $rows as $row}}
	<li class='ipsGrid_span6 ipsPhotoPanel ipsPhotoPanel_mini ipsClearfix ipsPad_half'>
		{template="userPhoto" app="core" group="global" params="\IPS\Member::load( $row['dmid'] ), 'mini'"}
		<div>
			<h3 class='ipsType_normal ipsType_reset ipsTruncate ipsTruncate_line'>{member="name" id="$row['dmid']"}</h3>
			<span class='ipsType_light'>{datetime="$row['dtime']" norelative="true"}</span>
		</div>
	</li>
{{endforeach}}]]></template>
 <template template_group="view" template_name="logTable" template_data="$table, $headers, $rows, $quickSearch" template_location="front" template_app="downloads"><![CDATA[<div data-baseurl='{$table->baseUrl}' data-resort='{$table->resortKey}' data-controller='core.global.core.table' {{if $table->getPaginationKey() != 'page'}}data-pageParam='{$table->getPaginationKey()}'{{endif}}>

	{{if $table->pages > 1}}
		<div class="ipsButtonBar ipsPad_half ipsClearfix ipsClear">
			<div data-role="tablePagination">
				{template="pagination" group="global" app="core" location="global" params="$table->baseUrl, $table->pages, $table->page, $table->limit, TRUE, $table->getPaginationKey()"}
			</div>
		</div>
	{{endif}}


	{{if count( $rows )}}
		<ol class='ipsGrid ipsGrid_collapsePhone ipsPad ipsClear {{foreach $table->classes as $class}}{$class} {{endforeach}}' id='elTable_{$table->uniqueId}' data-role="tableRows" itemscope itemtype="http://schema.org/ItemList">
			{template="$table->rowsTemplate[1]" params="$table, $headers, $rows" object="$table->rowsTemplate[0]"}
		</ol>
	{{else}}
		<div class='ipsType_center ipsPad'>
			<p class='ipsType_large ipsType_light'>{lang="no_rows_in_table"}</p>
			{{if method_exists( $table, 'container' ) AND $table->container() !== NULL}}
				{{if $table->container()->can('add')}}
					<a href='{$table->container()->url()->setQueryString( 'do', 'add' )}' class='ipsButton ipsButton_primary ipsButton_medium'>
						{lang="submit_first_row"}
					</a>
				{{endif}}
			{{endif}}
		</div>
	{{endif}}
				
	{{if $table->pages > 1}}
		<div class="ipsButtonBar ipsPad_half ipsClearfix ipsClear">
			<div data-role="tablePagination">
				{template="pagination" group="global" app="core" location="global" params="$table->baseUrl, $table->pages, $table->page, $table->limit, TRUE, $table->getPaginationKey()"}
			</div>
		</div>
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="multipleFiles" template_data="$fileObject, $files, $waitingOn, $waitingFor" template_location="front" template_app="downloads"><![CDATA[<div class='ipsPad'>
	<h1 class='ipsType_pageTitle'>{lang="download_your_files"}</h1>
	<p class='ipsType_reset ipsType_normal ipsType_light'>{lang="download_file_count" pluralize="count( $files )"}</p>
	<hr class='ipsHr'>
	<ul class='ipsDataList ipsDataList_reducedSpacing'>
		{{foreach $files as $k => $file}}
			{{$data = $files->data();}}
			<li class='ipsDataItem'>
				<div class='ipsDataItem_main'>
					<h4 class='ipsDataItem_title'>{{if $data['record_realname']}}{$data['record_realname']}{{else}}{$data['record_location']}{{endif}}</h4>
					{{if $data['record_size']}}<p class='ipsType_reset ipsDataItem_meta'>{filesize="$data['record_size']"}</p>{{endif}}
				</div>
				{{if $waitingOn == $k}}
					<div class='ipsDataItem_generic ipsDataItem_size6 ipsType_warning'>
						<noscript>{lang="wait_x_seconds_noscript" pluralize="$waitingFor"}</noscript>
					</div>
				{{endif}}
				<div class='ipsDataItem_generic ipsDataItem_size4 ipsType_right'>
					<span class="ipsHide" data-role="downloadCounterContainer">{lang="download_begins_in"} <span data-role="downloadCounter"></span> {lang="seconds"}</span>
					<a href='{$fileObject->url()->setQueryString( array( 'do' => 'download', 'r' => $k, 'confirm' => 1, 't' => 1 ) )->csrf()}' class='ipsButton ipsButton_primary ipsButton_small' data-action="download" {{if member.group['idm_wait_period']}}data-wait='true'{{endif}}>{lang="download"}</a>
				</div>
			</li>
		{{endforeach}}
	</ul>
</div>]]></template>
 <template template_group="view" template_name="reviews" template_data="$file" template_location="front" template_app="downloads"><![CDATA[<div data-controller='core.front.core.commentFeed' {{if settings.auto_polling_enabled}}data-autoPoll{{endif}} data-commentsType='reviews' data-baseURL='{$file->url()}' {{if $file->isLastPage('reviews')}}data-lastPage{{endif}} data-feedID='file-{$file->id}-reviews' id='reviews'>
	{{if $file->canReview()}}
		{{if $file->locked()}}
			<strong class='ipsType_warning'><i class='fa fa-info-circle'></i> {lang="item_locked_can_review"}</strong>
		{{endif}}
		<div id='elFileReviewForm'>
			{$file->reviewForm()|raw}
		</div>
	{{else}}
		{{if $file->locked()}}
			{template="commentUnavailable" group="forms" location="front" app="core" params="'item_locked_cannot_comment'"}
		{{elseif \IPS\Member::loggedin()->restrict_post}}
			{template="commentUnavailable" group="forms" location="front" app="core" params="'restricted_cannot_comment', \IPS\Member::loggedIn()->warnings(5,NULL,'rpa'), \IPS\Member::loggedIn()->restrict_post"}
		{{elseif $file->hasReviewed()}}
			<!-- Already reviewed -->
		{{elseif $file->mustDownloadBeforeReview()}}
			<p class='ipsType_reset ipsType_light ipsType_normal'>{lang="no_download_review"}</p>
		{{elseif \IPS\Member::loggedIn()->restrict_post}}
			{template="reviewUnavailable" group="forms" location="front" app="core" params="'restricted_cannot_comment'"}
		{{elseif \IPS\Member::loggedIn()->members_bitoptions['unacknowledged_warnings']}}
			{template="reviewUnavailable" group="forms" location="front" app="core" params="'unacknowledged_warning_cannot_post', \IPS\Member::loggedIn()->warnings( 1, FALSE )"}
		{{endif}}
	{{endif}}
	{{if count( $file->reviews() )}}
		{{if !$file->hasReviewed()}}<hr class='ipsHr'>{{endif}}
		<div class="ipsClearfix ipsSpacer_bottom">
			{{if $file->reviewPageCount() > 1}}
				<div class="ipsPos_left ipsResponsive_noFloat">
					{$file->reviewPagination( array( 'tab', 'sort' ) )|raw}
				</div>
			{{endif}}
			<div class="ipsClearfix ipsPos_right ipsResponsive_hidePhone">
				<ul class="ipsButtonRow ipsClearfix">
					<li data-action="tableFilter">
						<a href="{$file->url()->setQueryString( array( 'tab' => 'reviews', 'page' => 1, 'sort' => 'helpful' ) )}" class="{{if !isset( request.sort ) or request.sort != 'newest'}}ipsButtonRow_active{{endif}}" data-action="filterClick">{lang="most_helpful"}</a>
					</li>
					<li data-action="tableFilter">
						<a href="{$file->url()->setQueryString( array( 'tab' => 'reviews', 'page' => 1, 'sort' => 'newest' ) )}" class="{{if isset( request.sort ) and request.sort == 'newest'}}ipsButtonRow_active{{endif}}" data-action="filterClick">{lang="newest"}</a>
					</li>
				</ul>
			</div>
		</div>
		
		<div data-role='commentFeed' data-controller='core.front.core.moderation'>
			<form action="{$file->url()->setQueryString( 'do', 'multimodReview' )}" method="post" data-ipsPageAction data-role='moderationTools'>
				{{$reviewCount=0; $timeLastRead = $file->timeLastRead(); $lined = FALSE;}}
				{{foreach $file->reviews() as $review}}
					{{if !$lined and $timeLastRead and $timeLastRead->getTimestamp() < $review->mapped('date')}}
						{{if $lined = TRUE and $reviewCount}}
							<hr class="ipsCommentUnreadSeperator">
						{{endif}}
					{{endif}}
					{{$reviewCount++;}}
					{$review->html()|raw}
				{{endforeach}}
				{template="commentMultimod" app="core" group="global" params="$file, 'review'"}
			</form>
		</div>
		{{if $file->reviewPageCount() > 1}}
			<div>
				{$file->reviewPagination( array( 'tab', 'sort' ) )|raw}
			</div>
		{{endif}}
	{{elseif !$file->canReview()}}
		<p class="ipsType_normal ipsType_light ipsType_reset" data-role="noReviews">{lang="no_reviews"}</p>
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="view" template_data="$file, $commentsAndReviews, $versionData, $previousVersions, $next=NULL, $prev=NULL, $cfields=array()" template_location="front" template_app="downloads"><![CDATA[<div itemscope itemtype="http://schema.org/CreativeWork">
	<div class='{{if $file->primary_screenshot}}ipsColumns ipsColumns_collapsePhone{{endif}} ipsClearfix'>
		<div {{if $file->primary_screenshot_thumb}}class='ipsColumn ipsColumn_fluid'{{endif}}>
			<h1 class='ipsType_pageTitle ipsType_break'>
				{{if $file->prefix()}}
					{template="prefix" group="global" app="core" params="$file->prefix( TRUE ), $file->prefix()"}
				{{endif}}
				
				{{if $file->locked()}}<i class='fa fa-lock'></i> {{endif}}{wordbreak="$file->name"} {$file->version}
				{{if $file->hidden() === 1}}
					<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
				{{elseif $file->hidden() === -1}}
					<span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$file->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span>
				{{endif}}
				{{if $file->canUnfeature()}}
					<span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
				{{endif}}
			</h1>
			
			{{if \IPS\Application::appIsEnabled( 'nexus' ) and settings.idm_nexus_on}}
				<p class="ipsType_pageTitle ipsType_reset ipsSpacer_top ipsSpacer_half">
					{{if $price = $file->price()}}
						<span class='cFilePrice'>{$price|raw}</span>
						{{if $renewalTerm = $file->renewalTerm()}}
							<span class='ipsType_light'>&middot; {lang="file_renewal_term_val" sprintf="$renewalTerm"}</span>
						{{endif}}
					{{else}}
						<span class='cFilePrice'>{lang="file_free"}</span>
					{{endif}}
				</p>
			{{endif}}

			{{if $file->container()->bitoptions['reviews']}}
				<span itemprop="aggregateRating" itemscope itemtype="http://schema.org/AggregateRating">
					<meta itemprop='ratingValue' content='{$file->averageReviewRating()}'>
					<meta itemprop='reviewCount' content='{$file->reviews}'>
					{template="rating" group="global" location="front" app="core" params="'large', $file->averageReviewRating(), \IPS\Settings::i()->reviews_rating_out_of"}&nbsp;&nbsp; <span class='ipsType_normal ipsType_light'>({lang="num_reviews" pluralize="$file->reviews"})</span>
				</span>
			{{endif}}

			<div class='ipsPos_right ipsResponsive_noFloat ipsResponsive_hidePhone'>
				{template="follow" app="core" group="global" params="'downloads', 'file', $file->id, $file->followers()->count( TRUE )"}
			</div>

			<hr class='ipsHr'>

			<div class='ipsPhotoPanel ipsPhotoPanel_tiny ipsClearfix ipsSpacer_bottom'>
				{template="userPhoto" app="core" group="global" params="$file->author(), 'tiny', $file->warningRef()"}
				<div>
					<p class='ipsType_reset ipsType_large ipsType_blendLinks'>
						{lang="byline_nodate_itemprop" htmlsprintf="$file->author()->link( $file->warningRef() )"}{{if member.group['idm_view_approvers'] and $file->approver}} {lang="file_approved_by" sprintf="\IPS\Member::load( $file->approver )->name" htmlsprintf="\IPS\DateTime::ts( $file->approvedon )->html()"}{{endif}}
					</p>
					{{if $file->author()->member_id OR $file->canChangeAuthor()}}
					<ul class='ipsList_inline'>
						{{if $file->author()->member_id}}
							<li><a href='{url="app=core&module=members&controller=members&id={$file->author()->member_id}&do=content&type=downloads_file" base="front" seoTitles="$file->author()->members_seo_name" seoTemplate="profile_content"}'>{lang="find_users_files"}</a></li>
						{{endif}}
						{{if $file->canChangeAuthor()}}
							<li><a href='{$file->url()->setQueryString( array( 'do' => 'changeAuthor' ) )}' data-ipsDialog data-ipsDialog-size='narrow' data-ipsDialog-title="{lang="change_author_d"}" title='{lang="change_author_title"}'>{lang="change_author_d"}</a></li>
						{{endif}}
					</ul>
					{{endif}}
				</div>
			</div>	

			{{if count( $file->tags() )}}		
				{template="tags" group="global" app="core" params="$file->tags()"}
			{{endif}}	
		</div>

	</div>

	{{if $file->hidden() === 1 and $file->canUnhide()}}
		<div class="ipsMessage ipsMessage_warning ipsSpacer_both">
			<p class="ipsType_reset">{lang="file_pending_approval"}</p>
			<br>
			<ul class='ipsList_inline'>
				<li><a href="{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unhide' ) )}" class="ipsButton ipsButton_positive ipsButton_verySmall" title='{lang="approve_title_file"}'><i class="fa fa-check"></i> {lang="approve"}</a></li>
				{{if $file->canDelete()}}
					<li><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'delete' ) )}' data-confirm  title='{lang="downloads_delete_title"}' class='ipsButton ipsButton_negative ipsButton_verySmall'><i class='fa fa-times'></i> {lang="delete"}</a></li>
				{{endif}}
			</ul>
		</div>
	{{endif}}
	
	{{if $file->screenshots()->getInnerIterator()->count( true )}}
		<section class='ipsBox ipsSpacer_both'>
			<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="screenshots_ct" pluralize="$file->screenshots()->getInnerIterator()->count( true )"}</h2>
			<div class='ipsPad_half ipsAreaBackground'>
				<div class='ipsCarousel ipsClearfix' data-ipsCarousel data-ipsCarousel-showDots>
					<ul class='cDownloadsCarousel ipsClearfix' data-role="carouselItems">
						{{$fullScreenshots = iterator_to_array( $file->screenshots() );}}
						{{foreach $file->screenshots( 1 ) as $id => $screenshot}}
							<li class='ipsCarousel_item ipsAreaBackground_reset ipsPad_half'>
								<span style="background-image: url( '{expression="str_replace( array( '(', ')' ), array( '\(', '\)' ), $screenshot->url )"}' )" class="ipsThumb ipsThumb_medium ipsThumb_bg ipsCursor_pointer" data-ipsLightbox data-ipsLightbox-group="download_{$file->id}" data-fullURL="{$fullScreenshots[ $id ]->url}">
									<img src="{$screenshot->url}" alt="" {{if $file->primary_screenshot_thumb == $screenshot}}itemprop='image'{{endif}}>
								</span>
							</li>
						{{endforeach}}
					</ul>
					<span class='ipsCarousel_shadow ipsCarousel_shadowLeft'></span>
					<span class='ipsCarousel_shadow ipsCarousel_shadowRight'></span>
					<a href='#' class='ipsCarousel_nav ipsHide' data-action='prev'><i class='fa fa-chevron-left'></i></a>
					<a href='#' class='ipsCarousel_nav ipsHide' data-action='next'><i class='fa fa-chevron-right'></i></a>
				</div>
			</div>
		</section>
	{{endif}} 

	<div class='ipsColumns ipsColumns_collapsePhone ipsBox'>
		<article class='ipsColumn ipsColumn_fluid'>
			<div class='ipsPad'>
				<h2 class='ipsType_sectionHead'>{lang="file_desc"}</h2>
				<section class='ipsType_normal ipsSpacer_top'>
					<div class='ipsType_richText ipsContained ipsType_break' itemprop='text' data-controller='core.front.core.lightboxedImages'>
						{$file->desc|raw}
					</div>

					{{if $versionData['b_changelog'] or !empty( $previousVersions )}}
						<hr class='ipsHr ipsSpacer_both ipsSpacer_double'>
						<section data-controller='downloads.front.view.changeLog'>
							<h2 class='ipsType_sectionHead'>{lang="whats_new_in_version" sprintf="$versionData['b_version']"}{{if !empty( $previousVersions )}} &nbsp;&nbsp;<a href='#' id='elChangelog' data-ipsMenu data-ipsMenu-selectable="radio" class='ipsButton ipsButton_verySmall ipsButton_light' title='{lang="see_changelog_title"}'>{lang="see_changelog"} <i class='fa fa-caret-down'></i></a>{{endif}}</h2>

							<div data-role='changeLogData'>
								{template="changeLog" group="view" params="$file, $versionData"}
							</div>
							<ul class='ipsMenu ipsMenu_selectable ipsMenu_auto ipsHide' id='elChangelog_menu'>
								<li class='ipsMenu_item {{if !request.changelog}}ipsMenu_itemChecked{{endif}}' data-ipsMenuValue='{$file->version}'><a href='{$file->url()->setQuerystring( 'changelog', 0 )}' title='{lang="see_changelog_for" sprintf="$file->version"}'>{$file->version}</a></li>
								{{foreach $previousVersions as $version}}
									<li class='ipsMenu_item {{if request.changelog == $version['b_id']}}ipsMenu_itemChecked{{endif}} {{if $version['b_hidden']}}ipsModerated{{endif}}' data-ipsMenuValue='{$version['b_version']}'>
										<a href='{$file->url()->setQueryString( 'changelog', $version['b_id'] )}' title='{lang="see_changelog_for" sprintf="$version['b_version']"}'>
											{$version['b_version']}<br>
											<span class='ipsType_light'>{expression="\IPS\DateTime::ts( $version['b_updated'] )->html()" raw="true"}</span>
										</a>
									</li>
								{{endforeach}}
							</ul>
						</section>
					{{endif}}

					<hr class='ipsHr ipsSpacer_top ipsSpacer_double'>

					{{if $file instanceof \IPS\Content\Reputation and settings.reputation_enabled}}
						<div class='ipsPos_right'>
							{template="reputation" app="core" group="global" params="$file"}
						</div>
					{{endif}}

					{{if $file->canEdit() or $file->canPin() or $file->canUnpin() or $file->canFeature() or $file->canUnfeature() or $file->canHide() or $file->canUnhide() or $file->canMove() or $file->canLock() or $file->canUnlock() or $file->canDelete()}}
						<a href='#elFileActions_menu' id='elFileActions' class='ipsButton ipsButton_light ipsButton_verySmall' data-ipsMenu>{lang="file_actions"} <i class='fa fa-caret-down'></i></a>
						<ul id='elFileActions_menu' class='ipsMenu ipsMenu_auto ipsHide'>
							{{if $file->canEdit()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->setQueryString( array( 'do' => 'newVersion' ) )}' title='{lang="upload_new_version_title"}'>{lang="upload_new_version"}</a></li>
								<li class='ipsMenu_item'><a href='{$file->url()->setQueryString( array( 'do' => 'edit' ) )}' title='{lang="downloads_edit_details_title"}'>{lang="downloads_edit_details"}</a></li>
							{{endif}}
							{{if $file->canFeature()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'feature' ) )}' title='{lang="feature_title_file"}'>{lang="feature"}</a></li>
							{{endif}}
							{{if $file->canUnfeature()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unfeature' ) )}' title='{lang="unfeature_title_file"}'>{lang="unfeature"}</a></li>
							{{endif}}
							{{if $file->canPin()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'pin' ) )}' title='{lang="pin_title_file"}'>{lang="pin"}</a></li>
							{{endif}}
							{{if $file->canUnpin()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unpin' ) )}' title='{lang="unpin_title_file"}'>{lang="unpin"}</a></li>
							{{endif}}
							{{if $file->canHide()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'hide' ) )}' title='{lang="hide_title_file"}' data-ipsDialog data-ipsDialog-title="{lang="hide"}">{lang="hide"}</a></li>
							{{endif}}
							{{if $file->canUnhide()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unhide' ) )}' title='{{if $file->hidden() === 1}}{lang="approve_title_file"}{{else}}{lang="unhide_title_file"}{{endif}}'>{{if $file->hidden() === 1}}{lang="approve"}{{else}}{lang="unhide"}{{endif}}</a></li>
							{{endif}}
							{{if $file->canLock()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'lock' ) )}' title='{lang="lock_title_file"}'>{lang="lock"}</a></li>
							{{endif}}
							{{if $file->canUnlock()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unlock' ) )}' title='{lang="unlock_title_file"}'>{lang="unlock"}</a></li>
							{{endif}}
							{{if $file->canMove()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->setQueryString( array( 'do' => 'move' ) )}' data-ipsDialog data-ipsDialog-size='narrow' data-ipsDialog-title="{lang="move"}"  title='{lang="downloads_move_title"}'>{lang="move"}</a></li>
							{{endif}}
							{{if $file->canDelete()}}				
								<li class='ipsMenu_item'><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'delete' ) )}' data-confirm  title='{lang="downloads_delete_title"}'>{lang="delete"}</a></li>
							{{endif}}
							{{if \IPS\Member::loggedIn()->modPermission('can_view_moderation_log')}}
								<li class='ipsMenu_sep'><hr></li>
								<li class="ipsMenu_item"><a href='{$file->url()->csrf()->setQueryString( array( 'do' => 'modLog' ) )}' data-ipsDialog data-ipsDialog-title='{lang="moderation_history"}'>{lang="moderation_history"}</a></li>
							{{endif}}
						</ul>
					{{endif}}

					{{if !\IPS\Member::loggedIn()->group['gbw_no_report'] }}
						&nbsp;<a href='{$file->url('report')}' data-ipsDialog data-ipsDialog-size='medium' data-ipsDialog-title="{lang="report_file"}" data-ipsDialog-remoteSubmit data-ipsDialog-flashMessage="{lang="report_submit_success"}" title="{lang="report_file"}" class='ipsType_medium'>{lang="report_file"}</a>
					{{endif}}
				</section>
			</div>
		</article>
		<aside class='ipsColumn ipsColumn_wide'>
			<div class='ipsPad'>
				<ul class="ipsToolList ipsToolList_vertical ipsClearfix">
					{{if $file->canBuy()}}
						{{if $file->canDownload()}}
							{template="downloadButton" group="view" app="downloads" params="$file"}
						{{endif}}
						<li class='ipsToolList_primaryAction'>
							<a href='{$file->url('buy')->csrf()}' class='ipsButton ipsButton_fullWidth ipsButton_large ipsButton_important'><i class='fa fa-shopping-cart'></i> &nbsp;{lang="buy_now"} - {$file->price()|raw}</a>
						</li>
					{{else}}
						{template="downloadButton" group="view" app="downloads" params="$file"}
					{{endif}}
					{{if ( isset( $purchasesToRenew ) or $purchasesToRenew = $file->purchasesToRenew() ) and count( $purchasesToRenew )}}
						<li class='ipsToolList_primaryAction'>
							{{if count( $purchasesToRenew ) === 1}}
								{{foreach $purchasesToRenew as $purchase}}
									<a href='{$purchase->url()->setQueryString('do', 'renew')->csrf()}' class='ipsButton ipsButton_fullWidth ipsButton_large ipsButton_important'><i class='fa fa-refresh'></i> &nbsp;{lang="purchase_renew_now"} - {$purchase->renewals->cost}</a>
								{{endforeach}}
							{{else}}
								<a href='#elFileRenew_menu' id='elFileRenew' class='ipsButton ipsButton_fullWidth ipsButton_large ipsButton_important' data-ipsMenu><i class='fa fa-refresh'></i> &nbsp;{lang="purchase_renew_now"} <i class="fa fa-caret-down"></i></a>
								<ul id='elFileRenew_menu' class='ipsMenu ipsMenu_auto ipsHide'>
									{{foreach $purchasesToRenew as $purchase}}
										<li class='ipsMenu_item'><a href="{$purchase->url()->setQueryString('do', 'renew')->csrf()}">{$purchase->name}<br><span class='ipsType_light'>{$purchase->renewals}</span></a></li>
									{{endforeach}}
								</ul>		
							{{endif}}						
						</li>
					{{endif}}
				</ul>
				<hr class='ipsHr'>

				{{if $file->topic()}}
					<a href='{$file->topic()->url()}' title='{lang="dl_get_support_title"}' class='ipsButton ipsButton_normal ipsButton_fullWidth'>{lang="dl_get_support"}</a>
					<br>
				{{endif}}
				<h2 class='ipsType_sectionHead'>{lang="file_information"}</h2>
				<ul class="ipsDataList ipsDataList_reducedSpacing ipsSpacer_top">
					<li class="ipsDataItem">
						<span class="ipsDataItem_generic ipsDataItem_size3"><strong>{lang="views"}</strong></span>
						<span class="ipsDataItem_generic cFileInfoData">{number="$file->views"}</span>
						<meta itemprop='interactionCount' content='UserPageVisits:{$file->views}'>
					</li>
					{{if $file->price() and in_array( 'purchases', explode( ',', settings.idm_nexus_display ) )}}
						<li class="ipsDataItem" title='{lang="x_downloads" pluralize="$file->downloads"}' data-ipsTooltip>
							<span class="ipsDataItem_generic ipsDataItem_size3"><strong>{lang="idm_purchases"}</strong></span>
							<span class="ipsDataItem_generic cFileInfoData">{$file->purchaseCount()}</span>
							<meta itemprop='interactionCount' content='UserDownloads:{$file->downloads}'>
						</li>
					{{endif}}
					{{if !$file->price() or in_array( 'downloads', explode( ',', settings.idm_nexus_display ) ) }}
						<li class="ipsDataItem">
							<span class="ipsDataItem_generic ipsDataItem_size3"><strong>{lang="downloads"}</strong></span>
							<span class="ipsDataItem_generic cFileInfoData">{number="$file->downloads"}</span>
							<meta itemprop='interactionCount' content='UserDownloads:{$file->downloads}'>
						</li>
					{{endif}}
					<li class="ipsDataItem">
						<span class="ipsDataItem_generic ipsDataItem_size3"><strong>{lang="submitted"}</strong></span>
						<span class="ipsDataItem_generic cFileInfoData">{datetime="$file->submitted"}</span>
						<meta itemprop='dateCreated' content='{expression="\IPS\DateTime::ts( $file->submitted )->format( 'Y-m-d' )"}'>
					</li>
					{{if $file->updated != $file->submitted}}
						<li class="ipsDataItem">
							<span class="ipsDataItem_generic ipsDataItem_size3"><strong>{lang="updated"}</strong></span>
							<span class="ipsDataItem_generic cFileInfoData">{datetime="$file->updated"}</span>
							<meta itemprop='dateModified' content='{expression="\IPS\DateTime::ts( $file->updated )->format( 'Y-m-d' )"}'>
						</li>
					{{endif}}
					{{if $file->filesize()}}
						<li class="ipsDataItem">
							<span class="ipsDataItem_generic ipsDataItem_size3"><strong>{lang="filesize"}</strong></span>
							<span class="ipsDataItem_generic cFileInfoData">{filesize="$file->filesize()"}</span>
						</li>
					{{endif}}
					{{foreach $cfields as $k => $v}}
						<li class="ipsDataItem">
							<span class="ipsDataItem_generic ipsDataItem_size3"><strong>{lang="downloads_{$k}"}</strong></span>
							<div class="ipsDataItem_generic ipsType_break cFileInfoData">
								{$v|raw}
							</div>
						</li>
					{{endforeach}}
				</ul>

				{{if $file->canViewDownloaders() and $file->downloads}}
					<br>
					<a href='{$file->url('log')}' title='{lang="view_downloader_list"}' class='' data-ipsDialog data-ipsDialog-size="narrow" data-ipsDialog-title="{lang="downloaders"}">{lang="who_downloaded"}</a>
				{{endif}}

				<div class='ipsResponsive_showPhone ipsResponsive_block ipsSpacer_top'>
					{template="follow" app="core" group="global" params="'downloads', 'file', $file->id, $file->followers()->count( TRUE )"}
				</div>
			</div>
		</aside>
	</div>
	<br>
	
	{{if $prev || $next}}
		<div class='ipsGrid ipsGrid_collapsePhone ipsPager ipsSpacer_top'>
			{{if $prev !== NULL}}
				<div class="ipsGrid_span6 ipsType_left ipsPager_prev">
					<a href="{$prev->url()}" title="{lang="prev_file"}" rel="prev">
						<span class="ipsPager_type">{lang="prev_file"}</span>
						<span class="ipsPager_title ipsType_light ipsType_break">{wordbreak="$prev->mapped('title')"}</span>
					</a>
				</div>
			{{else}}
				<div class='ipsGrid_span6'>&nbsp;</div>
			{{endif}}
			{{if $next !== NULL}}
				<div class="ipsGrid_span6 ipsType_right ipsPager_next">
					<a href="{$next->url()}" title="{lang="next_file"}" rel="next">
						<span class="ipsPager_type">{lang="next_file"}</span>
						<span class="ipsPager_title ipsType_light ipsType_break">{wordbreak="$next->mapped('title')"}</span>
					</a>
				</div>
			{{else}}
				<div class='ipsGrid_span6'>&nbsp;</div>
			{{endif}}
		</div>
		<hr class='ipsHr'>
	{{endif}}

	{{if count( $file->shareLinks() )}}
		{template="sharelinks" app="core" group="global" params="$file"}
		<br>
	{{endif}}

	{{if $commentsAndReviews}}
		<a id="replies"></a>
		<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="user_feedback"}</h2>
		{$commentsAndReviews|raw}
	{{endif}}
</div>]]></template>
 <template template_group="widgets" template_name="downloadsCommentFeed" template_data="$comments, $title, $orientation='vertical'" template_location="front" template_app="downloads"><![CDATA[{{if !empty( $comments ) }}
	<h3 class='ipsType_reset ipsWidget_title'>{$title}</h3>
	{{if $orientation == 'vertical'}}
		<div class='ipsWidget_inner ipsPad_half'>
			<ul class='ipsDataList ipsDataList_reducedSpacing'>
				{{foreach $comments as $comment}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_icon ipsPos_top'>
							{template="userPhoto" group="global" app="core" params="$comment->author(), 'tiny'"}
						</div>
						<div class='ipsDataItem_main'>
							<a href="{$comment->url()}" class='ipsType_medium ipsType_break'>{wordbreak="$comment->item()->name"}</a><br>
							<p class='ipsType_reset ipsType_light ipsType_medium ipsType_blendLinks'>{lang="byline_nodate" htmlsprintf="$comment->author()->link()"} &middot; <a href='{$comment->item()->url()->setQueryString( array( 'do' => 'findComment', 'comment' => $comment->id ) )}' class='ipsType_blendLinks'>{$comment->dateLine()|raw}</a></p>
							<div class='ipsType_medium ipsType_textBlock ipsType_richText ipsType_break ipsContained ipsSpacer_top ipsSpacer_half' data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='{{if $orientation == 'vertical'}}6 lines{{else}}2 lines{{endif}}'>
								{$comment->truncated( true )|raw}
							</div>
						</div>
					</li>
				{{endforeach}}
			</ul>
		</div>
	{{else}}
		<div class='ipsWidget_inner'>
			<ul class='ipsDataList'>
				{{foreach $comments as $comment}}
					<li class='ipsDataItem ipsClearfix'>
						<div class='ipsComment_header ipsPhotoPanel ipsPhotoPanel_mini'>
							{template="userPhoto" app="core" group="global" params="$comment->author(), 'mini', $comment->warningRef()"}
							<div>
								<p class='ipsPos_right ipsType_reset ipsType_blendLinks'>
									<a href='{$comment->item()->url()->setQueryString( array( 'do' => 'findComment', 'comment' => $comment->id ) )}' data-ipsTooltip title='{lang="share_this_comment"}' data-ipsMenu data-ipsMenu-closeOnClick='false' id='elShareComment_{$comment->id}'><i class='fa fa-share-alt'></i></a>
								</p>
								<h3 class='ipsComment_author ipsType_blendLinks'>
									<strong class='ipsType_normal'>{template="userLink" app="core" group="global" params="$comment->author(), $comment->warningRef()"}</strong>
									{template="reputationBadge" group="global" app="core" params="$comment->author()"}
								</h3>
								<p class='ipsComment_meta ipsType_light ipsType_medium'>
									<a href='{$comment->item()->url()->setQueryString( array( 'do' => 'findComment', 'comment' => $comment->id ) )}' class='ipsType_blendLinks'>{$comment->dateLine()|raw}</a>
									{{if $comment->editLine()}}
										({lang="edited_lc"})
									{{endif}}
									{{if $comment->hidden()}}
										&middot; {$comment->hiddenBlurb()}
									{{endif}}
									{{if $comment instanceof \IPS\Content\ReportCenter and !\IPS\Member::loggedIn()->group['gbw_no_report'] and $comment->hidden() !== 1 }}
										&middot; <a href='{$comment->url('report')}' data-ipsDialog data-ipsDialog-remoteSubmit data-ipsDialog-size='medium' data-ipsDialog-flashMessage='{lang="report_submit_success"}' data-ipsDialog-title="{lang="report"}" data-action='reportComment' title='{lang="report_content"}'>{lang="report"}</a>
									{{endif}}
								</p>
					
								{{if member.modPermission('mod_see_warn') and $comment->warning}}
									{template="commentWarned" group="global" app="core" params="$comment"}
								{{endif}}
							</div>
						</div>

						<div class='ipsPad ipsClearfix'>
							{{if in_array( 'IPS\Content\Reputation', class_implements( $comment ) ) and settings.reputation_highlight and $comment->reputation() >= settings.reputation_highlight}}
								<strong class='ipsComment_popularFlag' data-ipsTooltip title='{lang="this_is_a_popular_comment"}'><i class='fa fa-star'></i></strong>
							{{endif}}
							<a href="{$comment->url()}" class='ipsDataItem_title ipsType_break'>{wordbreak="$comment->item()->name"}</a><br>
							<div data-role='commentContent' class='ipsType_normal ipsType_richText ipsType_break ipsContained' data-controller='core.front.core.lightboxedImages'>
								{{if $comment->hidden() === 1 && $comment->author()->member_id == \IPS\Member::loggedIn()->member_id}}
									<strong class='ipsType_medium ipsType_warning'><i class='fa fa-info-circle'></i> {lang="comment_awaiting_approval"}</strong>
								{{endif}}
								{$comment->content()|raw}
								
								{{if $comment->editLine()}}
									{$comment->editLine()|raw}
								{{endif}}
							</div>
							
							{{if $comment->hidden() !== 1 && $comment instanceof \IPS\Content\Reputation and settings.reputation_enabled}}
								{template="reputation" group="global" app="core" params="$comment, 'ipsPos_right ipsResponsive_noFloat'"}
							{{endif}}
						</div>
					</li>
				{{endforeach}}
			</ul>
		</div>
	{{endif}}
{{endif}}
]]></template>
 <template template_group="widgets" template_name="downloadsReviewFeed" template_data="$comments, $title, $orientation='vertical'" template_location="front" template_app="downloads"><![CDATA[{{if !empty( $comments ) }}
	<h3 class='ipsType_reset ipsWidget_title'>{$title}</h3>
	{{if $orientation == 'vertical'}}
		<div class='ipsWidget_inner ipsPad_half'>
			<ul class='ipsDataList ipsDataList_reducedSpacing'>
				{{foreach $comments as $comment}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_icon ipsPos_top'>
							{template="userPhoto" group="global" app="core" params="$comment->author(), 'tiny'"}
						</div>
						<div class='ipsDataItem_main'>
							<a href="{$comment->url()}" class='ipsDataItem_title ipsType_break'>{wordbreak="$comment->item()->name"}</a><br>
							<span class='ipsType_light ipsType_small'>{lang="byline_nodate" htmlsprintf="$comment->author()->link()"} &middot; <a href='{$comment->item()->url()->setQueryString( array( 'do' => 'findComment', 'comment' => $comment->id ) )}' class='ipsType_blendLinks'>{$comment->dateLine()|raw}</a></span>
							{template="rating" group="global" location="front" app="core" params="'small', $comment->rating, \IPS\Settings::i()->reviews_rating_out_of"}
							<div class='ipsType_medium ipsType_textBlock ipsType_richText ipsType_break ipsContained' data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='{{if $orientation == 'vertical'}}6 lines{{else}}2 lines{{endif}}'>
								{$comment->truncated( true )|raw}
							</div>
						</div>
					</li>
				{{endforeach}}
			</ul>
		</div>
	{{else}}
		<div class='ipsWidget_inner'>
			<ul class='ipsDataList'>
				{{foreach $comments as $comment}}
					<div class='ipsComment_header ipsPhotoPanel ipsPhotoPanel_mini'>
					{template="userPhoto" app="core" group="global" params="$comment->author(), 'mini', $comment->warningRef()"}
					<div>
						<p class='ipsPos_right ipsType_reset ipsType_blendLinks'>
							<a href='{$comment->item()->url()->setQueryString( array( 'do' => 'findComment', 'comment' => $comment->id ) )}' data-ipsTooltip title='{lang="share_this_comment"}' data-ipsMenu data-ipsMenu-closeOnClick='false' id='elShareComment_{$comment->id}'><i class='fa fa-share-alt'></i></a>
						</p>
						<h3 class='ipsComment_author ipsType_blendLinks'>
							<strong class='ipsType_normal'>{template="userLink" app="core" group="global" params="$comment->author(), $comment->warningRef()"}</strong>
							{template="reputationBadge" group="global" app="core" params="$comment->author()"}
						</h3>
						<p class='ipsComment_meta ipsType_light ipsType_medium'>
							<a href='{$comment->item()->url()->setQueryString( array( 'do' => 'findComment', 'comment' => $comment->id ) )}' class='ipsType_blendLinks'>{$comment->dateLine()|raw}</a>
							{{if $comment->editLine()}}
								({lang="edited_lc"})
							{{endif}}
							{{if $comment->hidden()}}
								&middot; {$comment->hiddenBlurb()}
							{{endif}}
							{{if $comment instanceof \IPS\Content\ReportCenter and !\IPS\Member::loggedIn()->group['gbw_no_report'] and $comment->hidden() !== 1 }}
								&middot; <a href='{$comment->url('report')}' data-ipsDialog data-ipsDialog-remoteSubmit data-ipsDialog-size='medium' data-ipsDialog-flashMessage='{lang="report_submit_success"}' data-ipsDialog-title="{lang="report"}" data-action='reportComment' title='{lang="report_content"}'>{lang="report"}</a>
							{{endif}}
						</p>
			
						{{if member.modPermission('mod_see_warn') and $comment->warning}}
							{template="commentWarned" group="global" app="core" params="$comment"}
						{{endif}}
					</div>
				</div>

				<div class='ipsPad'>
					{{if in_array( 'IPS\Content\Reputation', class_implements( $comment ) ) and settings.reputation_highlight and $comment->reputation() >= settings.reputation_highlight}}
						<strong class='ipsComment_popularFlag' data-ipsTooltip title='{lang="this_is_a_popular_comment"}'><i class='fa fa-star'></i></strong>
					{{endif}}
					<a href="{$comment->url()}" class='ipsDataItem_title ipsType_break'>{wordbreak="$comment->item()->name"}</a><br>
					<div data-role='commentContent' class='ipsType_normal ipsType_richText ipsType_break ipsContained' data-controller='core.front.core.lightboxedImages'>
						{{if $comment->hidden() === 1 && $comment->author()->member_id == \IPS\Member::loggedIn()->member_id}}
							<strong class='ipsType_medium ipsType_warning'><i class='fa fa-info-circle'></i> {lang="comment_awaiting_approval"}</strong>
						{{endif}}
						{$comment->content()|raw}
						
						{{if $comment->editLine()}}
							{$comment->editLine()|raw}
						{{endif}}
					</div>
					
					{{if $comment->hidden() !== 1 && $comment instanceof \IPS\Content\Reputation and settings.reputation_enabled}}
						{template="reputation" group="global" app="core" params="$comment, 'ipsPos_right ipsResponsive_noFloat'"}
					{{endif}}
				</div>
				{{endforeach}}
			</ul>
		</div>
	{{endif}}
{{endif}}
]]></template>
 <template template_group="widgets" template_name="downloadStats" template_data="$stats, $latestFile, $orientation='vertical'" template_location="front" template_app="downloads"><![CDATA[<h3 class='ipsType_reset ipsWidget_title'>{lang="block_downloadStats"}</h3>
<div class='ipsWidget_inner'>
	{{if $orientation == 'vertical'}}
		<div class='ipsPad_half'>
			<ul class='ipsDataList' id='elDownloadsStats'>
				<li class='ipsDataItem'>
					<div class='ipsDataItem_main ipsPos_middle'>
						<strong>{lang="total_files_front"}</strong>
					</div>
					<div class='ipsDataItem_stats ipsDataItem_statsLarge'>
						<span class='ipsDataItem_stats_number'>{number="$stats['totalFiles']"}</span>
					</div>
				</li>
				{{if $stats['totalComments']}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_main ipsPos_middle'>
							<strong>{lang="total_comments"}</strong>
						</div>
						<div class='ipsDataItem_stats ipsDataItem_statsLarge'>
							<span class='ipsDataItem_stats_number'>{number="$stats['totalComments']"}</span>
						</div>
					</li>
				{{endif}}
				{{if $stats['totalReviews']}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_main ipsPos_middle'>
							<strong>{lang="total_reviews"}</strong>
						</div>
						<div class='ipsDataItem_stats ipsDataItem_statsLarge'>
							<span class='ipsDataItem_stats_number'>{number="$stats['totalReviews']"}</span>
						</div>
					</li>
				{{endif}}
			</ul>
			<hr class='ipsHr'>
			{{if $latestFile}}
				<div id='elDownloadStatsLatest' class='ipsClearfix'>
					{template="thumbImage" group="global" app="core" params="$latestFile->primary_screenshot, $latestFile->name, 'small', 'ipsPos_left'"}
					<div class='ipsWidget_latestItem'>
						<strong class='ipsType_small ipsType_uppercase'>{lang="latest_file"}</strong><br>
						<a href="{$latestFile->url()}" title='{lang="view_this_file" sprintf="$latestFile->name"}' class='ipsTruncate ipsTruncate_line'>{wordbreak="$latestFile->name"}</a>
						<span class='ipsType_light ipsType_medium'>{lang="byline_nodate" htmlsprintf="$latestFile->author()->link()"}</span>
						<p class='ipsType_medium ipsType_reset'>{{if !$latestFile->downloads}}<span class='ipsType_light'>{{endif}}<i class='fa fa-arrow-circle-down'></i> {$latestFile->downloads}{{if !$latestFile->downloads}}</span>{{endif}} {{if $latestFile->container()->bitoptions['comments']}}&nbsp;&nbsp;{{if !$latestFile->comments}}<span class='ipsType_light'>{{endif}}<i class='fa fa-comment'></i> {$latestFile->comments}{{endif}}{{if !$latestFile->comments}}</span>{{endif}}</p>
					</div>
				</div>
			{{endif}}
		</div>
	{{else}}
		{{$columns = 2;}}
		{{$columns += ( $stats['totalComments'] ) ? 1 : 0;}}
		{{$columns += ( $stats['totalReviews'] ) ? 1 : 0;}}
		{{$span = 12 / $columns;}}
		<div class='ipsGrid ipsGrid_collapsePhone ipsWidget_stats'>
			<div class='ipsGrid_span{$span} ipsType_center cDownloadsWidget_statsNumber'>
				<span class='ipsType_large ipsWidget_statsCount'>{number="$stats['totalFiles']"}</span><br>
				<span class='ipsType_light ipsType_medium'>{lang="total_files_front"}</span>
			</div>
			{{if $stats['totalComments']}}
				<div class='ipsGrid_span{$span} ipsType_center cDownloadsWidget_statsNumber'>
					<span class='ipsType_large ipsWidget_statsCount'>{number="$stats['totalComments']"}</span><br>
					<span class='ipsType_light ipsType_medium'>{lang="total_comments"}</span>
				</div>
			{{endif}}
			{{if $stats['totalReviews']}}
				<div class='ipsGrid_span{$span} ipsType_center cDownloadsWidget_statsNumber'>
					<span class='ipsType_large ipsWidget_statsCount'>{number="$stats['totalReviews']"}</span><br>
					<span class='ipsType_light ipsType_medium'>{lang="total_reviews"}</span>
				</div>
			{{endif}}
			{{if $latestFile}}
				<div class='ipsGrid_span{$span} ipsType_left cNewestMember'>
					<div id='elDownloadStatsLatest' class='ipsClearfix'>
						<span class='ipsType_minorHeading'>{lang="latest_file"}</span><br>
						<a href="{$latestFile->url()}" title='{lang="view_this_file" sprintf="$latestFile->name"}' class='ipsTruncate ipsTruncate_line'>{wordbreak="$latestFile->name"}</a>
						<span class='ipsType_light ipsType_medium'>{lang="byline_nodate" htmlsprintf="$latestFile->author()->link()"}</span>
						<p class='ipsType_medium ipsType_reset'>{{if !$latestFile->downloads}}<span class='ipsType_light'>{{endif}}<i class='fa fa-arrow-circle-down'></i> {$latestFile->downloads}{{if !$latestFile->downloads}}</span>{{endif}} {{if $latestFile->container()->bitoptions['comments']}}&nbsp;&nbsp;{{if !$latestFile->comments}}<span class='ipsType_light'>{{endif}}<i class='fa fa-comment'></i> {$latestFile->comments}{{endif}}{{if !$latestFile->comments}}</span>{{endif}}</p>
					</div>
				</div>
			{{endif}}
		</div>
	{{endif}}
</div>]]></template>
 <template template_group="widgets" template_name="fileFeed" template_data="$files, $title, $orientation='vertical'" template_location="front" template_app="downloads"><![CDATA[<h3 class='ipsType_reset ipsWidget_title'>{$title}</h3>
<div class='ipsWidget_inner'>
	{{if $orientation == 'vertical'}}
		<div class='ipsPad_half'>
			{{if count( $files )}}
				<ul class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $files as $file}}
						{template="fileRow" group="widgets" app="downloads" params="$file, $orientation"}
					{{endforeach}}
				</ul>
			{{else}}
				<p class='ipsType_reset'>{lang="no_new_files"}</p>
			{{endif}}
		</div>
	{{else}}
		{{if count( $files )}}
			<ul class='ipsGrid ipsGrid_collapsePhone ipsWidget_columns'>
				{{foreach $files as $idx => $file}}
					{{if $idx < 4}}
						{template="fileRow" group="widgets" app="downloads" params="$file, $orientation"}
					{{endif}}
				{{endforeach}}
			</ul>
		{{else}}
			<p class='ipsType_reset'>{lang="no_new_files"}</p>
		{{endif}}
	{{endif}}
</div>]]></template>
 <template template_group="widgets" template_name="fileRow" template_data="$file, $orientation='vertical'" template_location="front" template_app="downloads"><![CDATA[<li class='ipsDataItem {{if $orientation == 'horizontal'}}ipsGrid_span3{{endif}}'>
	<div class='ipsDataItem_icon ipsPos_top'>
		{template="thumbImage" group="global" app="core" params="$file->primary_screenshot, $file->name, 'tiny'"}
		{{$price = NULL;}}
		{{if \IPS\Application::appIsEnabled( 'nexus' ) and settings.idm_nexus_on}}
			<p class="cWidgetPrice ipsType_reset ipsType_medium ipsType_center">
				{{if $price = $file->price()}}
					{$price|raw}
				{{else}}
					{lang="file_free"}
				{{endif}}
			</p>
		{{endif}}
	</div>
	<div class='ipsDataItem_main ipsType_break'>
		<a href="{$file->url()}" title='{lang="view_this_file" sprintf="$file->name"}'>{wordbreak="$file->name"}</a>
		<br>
		<span class='ipsType_light ipsType_medium ipsType_blendLinks'>{lang="byline_nodate" htmlsprintf="$file->author()->link()"}</span><br>
		{{if $file->container()->bitoptions['reviews']}}
			{template="rating" group="global" location="front" app="core" params="'small', $file->rating, \IPS\Settings::i()->reviews_rating_out_of"} &nbsp;&nbsp;
		{{endif}}

		<span class='ipsType_medium ipsType_reset ipsType_noBreak'>
			{{if $file->price() and in_array( 'purchases', explode( ',', settings.idm_nexus_display ) )}}
				<span {{if !$file->purchaseCount()}}class='ipsType_light'{{endif}} title='{lang="idm_purchases"}' data-ipsTooltip><i class='fa fa-shopping-cart'></i> {$file->purchaseCount()}</span>&nbsp;&nbsp;
			{{endif}}
			{{if !$file->price() or in_array( 'downloads', explode( ',', settings.idm_nexus_display ) )}}
				<span {{if !$file->downloads}}class='ipsType_light'{{endif}} title='{lang="downloads"}' data-ipsTooltip><i class='fa fa-arrow-circle-down'></i> {$file->downloads}</span>&nbsp;&nbsp;
			{{endif}}

			{{if $file->container()->bitoptions['comments']}}<span {{if !$file->comments}}class='ipsType_light'{{endif}} title='{lang="total_comments"}' data-ipsTooltip><i class='fa fa-comment'></i> {$file->comments}</span>{{endif}}
		</span>
	</div>
</li>]]></template>
 <template template_group="widgets" template_name="topDownloads" template_data="$week, $month, $year, $all, $orientation='vertical'" template_location="front" template_app="downloads"><![CDATA[<h3 class='ipsType_reset ipsWidget_title'>{lang="block_topDownloads"}</h3>

{{if $orientation == 'vertical'}}
	<div class='ipsTabs ipsTabs_small ipsTabs_stretch ipsClearfix' id='elDownloadsTopDownloads' data-ipsTabBar data-ipsTabBar-contentArea='#elDownloadsTopDownloads_content'>
		<a href='#elDownloadsTopDownloads' data-action='expandTabs'><i class='fa fa-caret-down'></i></a>
		<ul role="tablist">
			<li>
				<a href='#ipsTabs_elDownloadsTopDownloads_elDownloads_topDownloadsWeek_panel' id='elDownloads_topDownloadsWeek' class='ipsTabs_item ipsTabs_activeItem ipsType_center' role="tab" aria-selected='true'>{lang="top_week"}</a>
			</li>
			<li>
				<a href='#ipsTabs_elDownloadsTopDownloads_elDownloads_topDownloadsMonth_panel' id='elDownloads_topDownloadsMonth' class='ipsTabs_item ipsType_center' role="tab" aria-selected='false'>{lang="top_month"}</a>
			</li>		
			<li>
				<a href='#ipsTabs_elDownloadsTopDownloads_elDownloads_topDownloadsYear_panel' id='elDownloads_topDownloadsYear' class='ipsTabs_item ipsType_center' role="tab" aria-selected='false'>{lang="top_year"}</a>
			</li>
			<li>
				<a href='#ipsTabs_elDownloadsTopDownloads_elDownloads_topDownloadsAll_panel' id='elDownloads_topDownloadsAll' class='ipsTabs_item ipsType_center' role="tab" aria-selected='false'>{lang="top_alltime"}</a>
			</li>
		</ul>
	</div>

	<section id='elDownloadsTopDownloads_content' class='ipsWidget_inner'>
		<div id="ipsTabs_elDownloadsTopDownloads_elDownloads_topDownloadsWeek_panel" class='ipsTabs_panel ipsPad_half'>
			{{if count( $week )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $week as $idx => $data}}
						{template="fileRow" group="widgets" app="downloads" params="$data"}
					{{endforeach}}
				</ol>
			{{else}}
				<p class='ipsType_reset'>{lang="no_downloaded_files__week"}</p>
			{{endif}}
		</div>
		<div id="ipsTabs_elDownloadsTopDownloads_elDownloads_topDownloadsMonth_panel" class='ipsTabs_panel ipsPad_half'>
			{{if count( $month )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $month as $idx => $data}}
						{template="fileRow" group="widgets" app="downloads" params="$data"}
					{{endforeach}}
				</ol>
			{{else}}
				<p class='ipsType_reset'>{lang="no_downloaded_files__month"}</p>
			{{endif}}
		</div>
		<div id="ipsTabs_elDownloadsTopDownloads_elDownloads_topDownloadsYear_panel" class='ipsTabs_panel ipsPad_half'>
			{{if count( $year )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $year as $idx => $data}}
						{template="fileRow" group="widgets" app="downloads" params="$data"}
					{{endforeach}}
				</ol>
			{{else}}
				<p class='ipsType_reset'>{lang="no_downloaded_files__year"}</p>
			{{endif}}
		</div>
		<div id="ipsTabs_elDownloadsTopDownloads_elDownloads_topDownloadsAll_panel" class='ipsTabs_panel ipsPad_half'>
			{{if count( $all )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $all as $idx => $data}}
						{template="fileRow" group="widgets" app="downloads" params="$data"}
					{{endforeach}}
				</ol>
			{{else}}
				<p class='ipsType_reset'>{lang="no_downloaded_files"}</p>
			{{endif}}
		</div>
	</section>
{{else}}
	<div class='ipsGrid ipsGrid_collapsePhone ipsWidget_columns'>
		<div class='ipsGrid_span3'>
			<h4 class='ipsType_sectionHead ipsType_normal'>{lang="week"}</h4>

			{{if count( $week )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $week as $idx => $data}}
						{template="fileRow" group="widgets" app="downloads" params="$data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset ipsType_left ipsType_light'>{lang="no_downloaded_files__week"}</p>
				</div>
			{{endif}}
		</div>
		<div class='ipsGrid_span3'>
			<h4 class='ipsType_sectionHead ipsType_normal'>{lang="month"}</h4>

			{{if count( $month )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $month as $idx => $data}}
						{template="fileRow" group="widgets" app="downloads" params="$data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset ipsType_left ipsType_light'>{lang="no_downloaded_files__month"}</p>
				</div>
			{{endif}}
		</div>
		<div class='ipsGrid_span3'>
			<h4 class='ipsType_sectionHead ipsType_normal'>{lang="year"}</h4>

			{{if count( $year )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $year as $idx => $data}}
						{template="fileRow" group="widgets" app="downloads" params="$data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset ipsType_left ipsType_light'>{lang="no_downloaded_files__year"}</p>
				</div>
			{{endif}}
		</div>
		<div class='ipsGrid_span3'>
			<h4 class='ipsType_sectionHead ipsType_normal'>{lang="alltime"}</h4>

			{{if count( $all )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $all as $idx => $data}}
						{template="fileRow" group="widgets" app="downloads" params="$data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset ipsType_left ipsType_light'>{lang="no_downloaded_files"}</p>
				</div>
			{{endif}}
		</div>
	</div>
{{endif}}]]></template>
 <template template_group="widgets" template_name="topSubmitterRow" template_data="$idx, $data, $orientation='vertical'" template_location="front" template_app="downloads"><![CDATA[<li class='ipsDataItem'>
	{{if $orientation == 'vertical'}}
		<div class='ipsDataItem_generic ipsPos_middle ipsDataItem_size1 ipsType_center ipsType_large ipsType_light'><strong>{expression="$idx + 1"}</strong></div>
	{{endif}}
	<div class='ipsDataItem_main ipsPhotoPanel ipsPhotoPanel_tiny'>
		{template="userPhoto" app="core" group="global" params="$data['member'], 'tiny'"}
		<div>
			<a href='{url="app=core&module=members&controller=members&id={$data['member']->member_id}&do=content&type=downloads_file" base="front" seoTitles="$data['member']->members_seo_name" seoTemplate="profile_content"}' class='ipsType_truncate ipsType_truncateLine'>{$data['member']->name}</a><br>
			<span class='ipsType_small'><strong>{lang="download_file_count" pluralize="$data['files']"}</strong> &nbsp;&middot;&nbsp;<span data-ipsTooltip title='{lang="top_avg_rating"}'>{template="rating" group="global" location="front" app="core" params="'small', $data['rating'], \IPS\Settings::i()->reviews_rating_out_of"}</span></span>
		</div>
	</div>
</li>]]></template>
 <template template_group="widgets" template_name="topSubmitters" template_data="$week, $month, $year, $all, $orientation='vertical'" template_location="front" template_app="downloads"><![CDATA[<h3 class='ipsType_reset ipsWidget_title'>{lang="block_topSubmitters"}</h3>

{{if $orientation == 'vertical'}}
	<div class='ipsTabs ipsTabs_small ipsTabs_stretch ipsClearfix' id='elDownloadsTopSubmitters' data-ipsTabBar data-ipsTabBar-contentArea='#elDownloadsTopSubmitters_content'>
		<a href='#elDownloadsTopSubmitters' data-action='expandTabs'><i class='fa fa-caret-down'></i></a>
		<ul role="tablist">
			<li>
				<a href='#ipsTabs_elDownloadsTopSubmitters_elDownloads_topSubmittersWeek_panel' id='elDownloads_topSubmittersWeek' class='ipsTabs_item ipsTabs_activeItem ipsType_center' role="tab" aria-selected='true'>{lang="top_week"}</a>
			</li>
			<li>
				<a href='#ipsTabs_elDownloadsTopSubmitters_elDownloads_topSubmittersMonth_panel' id='elDownloads_topSubmittersMonth' class='ipsTabs_item ipsType_center' role="tab" aria-selected='false'>{lang="top_month"}</a>
			</li>		
			<li>
				<a href='#ipsTabs_elDownloadsTopSubmitters_elDownloads_topSubmittersYear_panel' id='elDownloads_topSubmittersYear' class='ipsTabs_item ipsType_center' role="tab" aria-selected='false'>{lang="top_year"}</a>
			</li>
			<li>
				<a href='#ipsTabs_elDownloadsTopSubmitters_elDownloads_topSubmittersAll_panel' id='elDownloads_topSubmittersAll' class='ipsTabs_item ipsType_center' role="tab" aria-selected='false'>{lang="top_alltime"}</a>
			</li>
		</ul>
	</div>

	<section id='elDownloadsTopSubmitters_content' class='ipsWidget_inner'>
		<div id="ipsTabs_elDownloadsTopSubmitters_elDownloads_topSubmittersWeek_panel" class='ipsTabs_panel'>
			{{if count( $week )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $week as $idx => $data}}
						{template="topSubmitterRow" group="widgets" app="downloads" params="$idx, $data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset'>{lang="top_submitters_empty__week"}</p>
				</div>
			{{endif}}
		</div>
		<div id="ipsTabs_elDownloadsTopSubmitters_elDownloads_topSubmittersMonth_panel" class='ipsTabs_panel'>
			{{if count( $month )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $month as $idx => $data}}
						{template="topSubmitterRow" group="widgets" app="downloads" params="$idx, $data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset'>{lang="top_submitters_empty__month"}</p>
				</div>
			{{endif}}
		</div>
		<div id="ipsTabs_elDownloadsTopSubmitters_elDownloads_topSubmittersYear_panel" class='ipsTabs_panel'>
			{{if count( $year )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $year as $idx => $data}}
						{template="topSubmitterRow" group="widgets" app="downloads" params="$idx, $data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset'>{lang="top_submitters_empty__year"}</p>
				</div>
			{{endif}}
		</div>
		<div id="ipsTabs_elDownloadsTopSubmitters_elDownloads_topSubmittersAll_panel" class='ipsTabs_panel'>
			{{if count( $all )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $all as $idx => $data}}
						{template="topSubmitterRow" group="widgets" app="downloads" params="$idx, $data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset'>{lang="top_submitters_empty__all"}</p>
				</div>
			{{endif}}
		</div>
	</section>
{{else}}
	<div class='ipsGrid ipsGrid_collapsePhone ipsWidget_columns'>
		<div class='ipsGrid_span3'>
			<h4 class='ipsType_sectionHead ipsType_normal'>{lang="week"}</h4>

			{{if count( $week )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $week as $idx => $data}}
						{template="topSubmitterRow" group="widgets" app="downloads" params="$idx, $data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset ipsType_left ipsType_light'>{lang="top_submitters_empty__week"}</p>
				</div>
			{{endif}}
		</div>
		<div class='ipsGrid_span3'>
			<h4 class='ipsType_sectionHead ipsType_normal'>{lang="month"}</h4>

			{{if count( $month )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $month as $idx => $data}}
						{template="topSubmitterRow" group="widgets" app="downloads" params="$idx, $data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset ipsType_left ipsType_light'>{lang="top_submitters_empty__month"}</p>
				</div>
			{{endif}}
		</div>
		<div class='ipsGrid_span3'>
			<h4 class='ipsType_sectionHead ipsType_normal'>{lang="year"}</h4>

			{{if count( $year )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $year as $idx => $data}}
						{template="topSubmitterRow" group="widgets" app="downloads" params="$idx, $data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset ipsType_left ipsType_light'>{lang="top_submitters_empty__year"}</p>
				</div>
			{{endif}}
		</div>
		<div class='ipsGrid_span3'>
			<h4 class='ipsType_sectionHead ipsType_normal'>{lang="alltime"}</h4>

			{{if count( $all )}}
				<ol class='ipsDataList ipsDataList_reducedSpacing'>
					{{foreach $all as $idx => $data}}
						{template="topSubmitterRow" group="widgets" app="downloads" params="$idx, $data, $orientation"}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad'>
					<p class='ipsType_reset ipsType_left ipsType_light'>{lang="top_submitters_empty__all"}</p>
				</div>
			{{endif}}
		</div>
	</div>
{{endif}}]]></template>
 <css css_location="front" css_app="downloads" css_attributes="" css_path="." css_name="downloads_responsive.css">@media screen and (max-width: 767px) {
	#elDownloadsFeatured .ipsCarousel_item {
		height: auto;
	}

	#elDownloadsFeatured .ipsThumb.ipsThumb_large {
		width: 100%;
		height: 120px;
		max-width: 100%;
	}
	
	.cDownloadsCategoryList .ipsDataItem_size3 {
		display: block;
		float: left;
	}

	html[dir=&quot;rtl&quot;] .cDownloadsCategoryList .ipsDataItem_size3 {
		float: right;
	}
		
		.cDownloadsCategoryList .ipsDataItem_size3 img {
			max-width: 75px;
			max-height: 75px;
		}

		html[dir=&quot;ltr&quot;] .cDownloadsCategoryList .ipsDataItem_size3 ~ div {
			margin-left: 100px;
		}
		html[dir=&quot;rtl&quot;] .cDownloadsCategoryList .ipsDataItem_size3 ~ div {
			margin-right: 100px;
		}

	.cFileInfoData {
		max-width: 100%;
	}
}</css>
 <css css_location="front" css_app="downloads" css_attributes="" css_path="." css_name="downloads.css"><![CDATA[#elDownloadsFeatured .ipsCarousel_item {
	height: 205px;
	position: relative;
}

#elDownloadsFeatured .ipsRating {
	margin-top: 0;
}

#elDownloadsCategories .ipsBadge {
	margin-top: 2px;
}

.cFilePrice {
	color: {theme="price"};
	text-transform: uppercase;
	font-weight: 500;
}

.cDownloadsCarouselItem {
	width: 170px;
	min-height: 240px;
}
	
	html[dir="ltr"] .cDownloadsCarouselItem {
		margin-right: 6px !important;
	}
	html[dir="rtl"] .cDownloadsCarouselItem {
		margin-left: 6px !important;
	}

	.cDownloadsCarouselItem .ipsThumb {
		max-width: 100%;
		max-height: 100%;
		width: 155px;
		height: 155px;
	}

	.cDownloadsCarouselItem .cFilePrice {
		display: block;
		padding: 5px 0 0;
		margin: 5px 0 0 0;
		border-top: 1px solid rgba(0,0,0,0.1);
	}

.cDownloadsCarouselItem_info {
	line-height: 2;
}

#elDownloadsStats .ipsDataItem_main,
#elDownloadsStats .ipsDataItem_stats {
	padding: 5px 5px;
}

html[dir="ltr"] #elDownloadStatsLatest > div:not( .ipsNoThumb ) {
	margin-left: 85px;
}
html[dir="rtl"] #elDownloadStatsLatest > div:not( .ipsNoThumb ) {
	margin-right: 85px;
}

.cFileInfoData {
	max-width: 155px;
}

/* Submission */
#elDownloadsSubmit_progress > .ipsProgressBar {
	margin: 15px 0 5px 0;
	width: 100%;
	height: 32px;
}

#elDownloadsSubmit_progress.ipsSticky {
	background: #fff;
	padding: 0px 15px 15px 15px;
}

#elDownloadsSubmit .ipsAttachment_dropZone {
	background: #fff;
	border: 3px dashed rgba(0,0,0,0.1);
	margin-top: 7px;
}

.cDownloadsSubmit_step {
	display: block;
	width: 40px;
	height: 40px;
	text-align: center;
	line-height: 40px;
	font-size: 24px;
	color: #fff;
	border-radius: 40px;
	background: {theme="step_background"};
}

#elURLFiles, #elImportFiles, #elURLScreenshots {
	position: relative;
}

.cDownloadsLinkedScreenshotItem {
	margin-bottom: 5px;
}
	.cDownloadsLinkedScreenshotItem_block {
		display: inline-block;
		width: 20px;
		text-align: center;
	}
		html[dir="ltr"] .cDownloadsLinkedScreenshotItem_block {
			margin-left: 5px;
		}
		html[dir="rtl"] .cDownloadsLinkedScreenshotItem_block {
			margin-right: 5px;
		}
		.cDownloadsLinkedScreenshotItem_block i {
			position: relative;
			top: 1px;
		}
]]></css>
 <css css_location="front" css_app="downloads" css_attributes="" css_path="." css_name="widgets.css">.cDownloadsWidget_statsNumber {
	padding-top: 20px;
}

.cWidgetPrice {
	color: {theme=&quot;price&quot;};
	text-transform: uppercase;
	font-weight: 500;
	line-height: 1.1 !important;
	margin-top: 4px;
	font-size: 12px;
}

	.cWidgetPrice .cNexusPrice_from {
		font-size: 9px;
	}</css>
</theme>
